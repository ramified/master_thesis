
\documentclass[reqno,11pt]{book}
%\special{dvipdfmx:config z 0}
%%\includeonly{}
%\includeonly{chapters/chapter4}

%\usepackage{color,graphicx}
%\usepackage{mathrsfs,amsbsy}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{bm}
\usepackage{caption,subcaption}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{enumerate}
\usepackage{extarrows}
\usepackage[mathscr]{eucal}
\usepackage{float}
\usepackage{mathrsfs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage[all,pdf]{xy}
\usepackage[a4paper,left=3cm,right=3cm]{geometry}
\usepackage[table,xcdraw]{xcolor} % before tikz-cd
\usepackage{tikz-cd}
\usepackage{hyperref}
\usepackage{scalerel}
\usepackage{stackengine,wasysym}
\usepackage[width=0.5,tiewidth=0.7]{strands}
\usepackage{quiver}
\usepackage{enumitem}
\usepackage{array}
\usepackage{diagbox}
\usepackage{makecell}
\usepackage{adjustbox}
\usepackage{indentfirst}
%\usepackage{nicematrix}%https://ctan.org/pkg/nicematrix?lang=en
%\usepackage[notcite,notref]{showkeys}

% showkeys  make label explicit on the paper


\numberwithin{equation}{section}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{defn}[theorem]{Definition}
\newtheorem{ques}[theorem]{Question}
\newtheorem*{bbox}{Black box}
\newtheorem{eg}[theorem]{Example}
\newtheorem{ex}[theorem]{Exercise}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{warning}[theorem]{Warning}
\newtheorem{setting}[theorem]{Setting}

\theoremstyle{plain}
\newtheorem{thmsub}{Theorem}[subsection]
\newtheorem{lemmasub}[thmsub]{Lemma}
\newtheorem{corollarysub}[thmsub]{Corollary}
\newtheorem{propositionsub}[thmsub]{Proposition}
\newtheorem{defnsub}[thmsub]{Definition}

\numberwithin{equation}{section}


\theoremstyle{remark}

\newtheorem{remark}[theorem]{Remark}
\newtheorem{remarks}{Remarks}

%\renewcommand\thefootnote{\fnsymbol{footnote}}
%dont use number as footnote symbol, use this command to change

\DeclareMathOperator{\EGG}{\operatorname{E}\!}
\DeclareMathOperator{\BGG}{\operatorname{B}\!}
\DeclareMathOperator{\GL}{\operatorname{GL}}
\DeclareMathOperator{\SL}{\operatorname{SL}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\Img}{\operatorname{Im}}
\DeclareMathOperator{\gr}{\operatorname{gr}}
\DeclareMathOperator{\Id}{\operatorname{Id}}
\DeclareMathOperator{\rep}{\operatorname{rep}}
\DeclareMathOperator{\Rep}{\operatorname{Rep}}
\DeclareMathOperator{\Irr}{\operatorname{Irr}}
\DeclareMathOperator{\RRep}{\widetilde{\operatorname{Rep}}}
\DeclareMathOperator{\Mod}{\operatorname{Mod}}
\DeclareMathOperator{\Ind}{\operatorname{Ind}}
\DeclareMathOperator{\Res}{\operatorname{Res}}
\DeclareMathOperator{\Coh}{\operatorname{Coh}}
\DeclareMathOperator{\Tor}{\operatorname{Tor}}
\newcommand{\Dcoh}{\mathcal{D}_{\operatorname{Coh}}}%%%This one shows the difference between \DeclareMathOperator and \newcommand
\DeclareMathOperator{\Hom}{\operatorname{Hom}}
\DeclareMathOperator{\Ext}{\operatorname{Ext}}
\DeclareMathOperator{\gldim}{\operatorname{gl.dim}}
\DeclareMathOperator{\projdim}{\operatorname{proj.dim}}
\DeclareMathOperator{\injdim}{\operatorname{inj.dim}}
\DeclareMathOperator{\dimv}{\operatorname{\underline{\mathbf{dim}}}}
\DeclareMathOperator{\Alggp}{\text{-Alg gp}}
\DeclareMathOperator{\Pic}{\operatorname{Pic}}
\DeclareMathOperator{\Jac}{\operatorname{Jac}}
\DeclareMathOperator{\pt}{\operatorname{pt}}
\DeclareMathOperator{\ptt}{\operatorname{par}}
\DeclareMathOperator{\Frac}{\operatorname{Frac}}
\DeclareMathOperator{\Rpt}{\operatorname{R}}
\DeclareMathOperator{\Rptc}{\operatorname{\mathcal{R}}}
\DeclareMathOperator{\Spt}{\operatorname{S}}
\DeclareMathOperator{\Sptc}{\operatorname{\mathcal{S}}}
\DeclareMathOperator{\Kcurl}{\operatorname{\mathcal{K}}}
\DeclareMathOperator{\Hcurl}{\operatorname{\mathcal{H}}}
\DeclareMathOperator{\eu}{\operatorname{eu}}
\DeclareMathOperator{\Eu}{\operatorname{Eu}}
\newcommand{\Spec}{\operatorname{Spec}}
\DeclareMathOperator{\St}{\mathcal{Z}}
\DeclareMathOperator{\Flagd}{\operatorname{Flag}_{\mathbf{d}}}
\DeclareMathOperator{\Flagdstr}{\operatorname{Flag}_{\mathbf{d},str}}
\newcommand{\Gr}{\operatorname{Gr}}
\newcommand{\Grr}{\operatorname{Gr}}
\newcommand{\Grq}{\operatorname{Gr}^{KQ}}
\newcommand{\Flag}[1]{\operatorname{Flag}_{\mathbf{#1}}}
\newcommand{\Flagstr}[1]{\operatorname{Flag}_{\mathbf{#1},str}}
\newcommand{\dimvec}[1]{\mathbf{#1}}
\newcommand{\abdimvec}[1]{|\dimvec{#1}|}
\newcommand{\ftdimvec}[1]{\underline{\dimvec{#1}}}
\newcommand{\absgp}[1]{\mathbb{#1}}
\newcommand{\ww}{\varpi}
\newcommand{\Ri}{\operatorname{R}^i\!\!}
\DeclareMathOperator{\MinWd}{\operatorname{Min}(\absgp{W}_{\abdimvec{d}},W_{\dimvec{d}})}
\DeclareMathOperator{\Compd}{\operatorname{Comp}_{\dimvec{d}}}
\DeclareMathOperator{\Shuffled}{\operatorname{Schuffle}_{\dimvec{d}}}
\newcommand{\WWd}{\absgp{W}_{\abdimvec{d}}}
\newcommand{\Wd}{W_{\dimvec{d}}}
\newcommand{\norm}[1]{\Vert{#1}\Vert}
\newcommand{\ord}{\operatorname{ord}}
\newcommand{\orde}{\operatorname{ord}_e }
\newcommand{\representation}[2]{\genfrac{}{}{0pt}{3}{\phantom{000}#2\phantom{00}}{#1}}
\newcommand{\Omcell}{\Omega}
\newcommand{\OOmcell}{\boldsymbol{\Omega}}
\newcommand{\Vcell}{\mathcal{V}}
\newcommand{\VVcell}{\boldsymbol{\mathcal{V}}}
\newcommand{\Ocell}{\mathcal{O}}
\newcommand{\OOcell}{\boldsymbol{\mathcal{O}}}
\newcommand{\preimage}[1]{\widetilde{#1}}

\newcommand{\inCell}[2]
{\setlength{\fboxrule}{0pt} %%https://tex.stackexchange.com/questions/393676/remove-border-of-a-framebox
\fbox{
  \begin{minipage}{1cm}
    \centering
      {\hspace{-0.13cm}\textcolor{red}{$\scriptstyle {#1}$} \hfill $\,$}%
      \linebreak 
      {$#2$}%
      \linebreak 
      \vspace{0cm}
  \end{minipage}
  }
}
%global settings
\setlength\parindent{15pt}
\setlength\intextsep{0cm}
\setlength\textfloatsep{0cm}
\def\arraystretch{1.2}
\setcounter{secnumdepth}{3}

\makeatletter
\preto\env@matrix{\renewcommand{\arraystretch}{0.6}
\setlength\arraycolsep{1pt}}
\makeatother

% HIGHLIGHTING

%\newcommand{\lbox}{\adjustbox{cfbox=red, margin=-\fboxrule-\fboxsep}}
\newcommand{\lbox}{\adjustbox{}}
% from https://tex.stackexchange.com/questions/63545/big-tilde-in-math-mode

%https://tex.stackexchange.com/questions/456307/invalid-use-of-intertext-in-aligned
\newcommand{\alignedintertext}[1]{%
  \noalign{%
    \vskip\belowdisplayshortskip
    \vtop{\hsize=\linewidth#1\par
    \expandafter}%
    \expandafter\prevdepth\the\prevdepth
  }%
}
\begin{document}
\date{}

\title
{Master thesis
}


%\author{Xiaoxiang Zhou}
%\address{School of Mathematical Sciences\\
%University of Bonn\\
%Bonn, 53115\\ Germany\\} 
%\email{email:xx352229@mail.ustc.edu.cn}


\setcounter{tocdepth}{2}

\include{chapters/contents}
\include{chapters/chapter1}
\include{chapters/chapter2}
\include{chapters/chapter3}
\include{chapters/chapter4}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Localization theorem}\label{chap:localization}
We have already gotten the module structure of $K$-theories. However, these basis behave badly with the convolution product (will be introduced in Section \ref{sec:convolution}), because "the information is not concentrated enough". In this chapter we will introduce another basis, which "concentrate information in the $T$-fixed points". The localization formula describe the transition matrix of two basis. Readers with topological background can compare the localization theorem with the Poincar√©-Hopf theorem.


\section{Euler class}\label{sec:euler_class}
In the category of coherent sheaf, the "proper base change" is usually not true. In order to describe the defect of the diagram, we introduce the Euler class.

\begin{defn}[Euler class, for $K$-group]
Let $X$ be a $G$-variety, and $\mathcal{T}$ be a $G$-equivariant vector bundle over $X$. The Euler class is defined by
$$\eu(\mathcal{T}):= \sum_{k=0}^{\infty} (-1)^k \left[ \Lambda^{k} \mathcal{T}^* \right] \in \Rpt(G) $$
\end{defn}

In practice, $X$ are points and $G$ is a torus. In that case, since we know the representation of a torus (see Example \ref{eg:K-initial-2}), the Euler class can be explicitly written down. For example, ($X=\pt$)
\begin{equation*}
\begin{aligned}
  &\eu\left( 1 \right)=  1\\ 
    &\eu\left( \frac{e_1}{e_2} \right)=  1-\frac{e_2}{e_1}\\ 
      &\eu\left(\frac{e_1}{e_2}+\frac{e_2}{e_3}+\frac{e_3}{e_1} \right)=  \left(1-\frac{e_2}{e_1}\right)\left(1-\frac{e_3}{e_2}\right)\left(1-\frac{e_1}{e_3}\right)\\ 
\end{aligned}
\end{equation*}
Here we confuse the notation of $\Rpt(T)$ and $\Rep(T)$: the elements inside the bracket of Euler class should be viewed as a vector bundle rather than a linear combination of coherent sheaves. 

\begin{warning}
Compared with usual Euler class, some properties are kept in $K$-theory version, while some are not. For example, for line bundles $\mathcal{L}$, $\mathcal{L}_1$, $\mathcal{L}_2$ over $X$,
\begin{equation*}
\begin{aligned}
  &  \eu(\mathcal{T} \oplus \mathcal{T}') \cong \eu(\mathcal{T}) \cdot \eu(\mathcal{T}'),            \\ 
  & \eu(\mathcal{L}_1 \otimes \mathcal{L}_2) \neq \eu(\mathcal{L}_1 )+\eu( \mathcal{L}_2) \qquad \eu(\mathcal{L}^{*}) \neq -\eu(\mathcal{L}).
\end{aligned}
\end{equation*}
\end{warning}

\begin{remark}
We also have equivariant Euler class for cohomology theory, see \cite[Chapter 9]{przezdziecki2015geometric}, ??? for more details. In particular, for any $T$-representation $\mathcal{T}$ with weight space decomposition $\mathcal{T}^{*} = \oplus \mathcal{T}_{\lambda}^{*}$, the Euler class of $\mathcal{T}$ (for cohomology theory) is defined by
$$\eu'(\mathcal{T}):= \prod_{\lambda \in X^{*}(T)} \lambda^{\dim \mathcal{T}_{\lambda}^{*}} \in \Spt(T) $$
where $X^{*}(T)$ embeds in $\Spt(T)$ by
$$X^{*}(T) \longrightarrow \Spt(T) \qquad \sum_{i}k_i \varepsilon_i \longmapsto \sum_{i}k_i \lambda_i.$$
For example,
\begin{equation*}
\begin{aligned}
  &\eu'\left( 1 \right)=  1\\ 
    &\eu'\left( \frac{e_1}{e_2} \right)=  \lambda_2-\lambda_1\\ 
      &\eu'\left(\frac{e_1}{e_2}+\frac{e_2}{e_3}+\frac{e_3}{e_1} \right)=  \left(\lambda_2-\lambda_1\right)\left(\lambda_3-\lambda_2\right)\left(\lambda_1-\lambda_3\right)\\ 
\end{aligned}
\end{equation*}
\end{remark}

\section{Statement}\label{sec:statement_localization}
We first state one general theorem, which will be connected with both localization formula and excess intersection formula.

\begin{theorem}[{Excess base change, \cite[Th√©or√®me 3.1]{thomason1993k}}]\label{thm:excess_base_change}
Let \eqref{eq:excess_base_change} be a Cartesian square of $G$-varieties, $\phi$, $\varphi$ are regular embeddings and $f,g$ are of globally finite $\Tor$-dimension. Denote $\mathcal{N}_{\phi}$ and $\mathcal{N}_{\varphi}$ as the normal cone of $\phi$, $\varphi$ respectively, and $\mathcal{T}:=(g^{*}\mathcal{N}_{\varphi})/\mathcal{N}_{\phi}$ as a vector bundle over $W$.
\begin{equation}\label{eq:excess_base_change}
% https://q.uiver.app/?q=WzAsNyxbMSwxLCJXIl0sWzMsMSwiWiJdLFszLDIsIlgiXSxbMSwyLCJZIl0sWzQsMCwiXFxtYXRoY2Fse059X3tcXHZhcnBoaX0iXSxbMiwwLCJnXnsqfVxcbWF0aGNhbHtOfV97XFx2YXJwaGl9Il0sWzAsMCwiXFxtYXRoY2Fse059X3tcXHBoaX0iXSxbMywyLCJmIl0sWzEsMiwiXFx2YXJwaGkiXSxbMCwxLCJnIl0sWzAsMywiXFxwaGkiLDJdLFs0LDEsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbNSwwLCIiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzYsMCwiIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dXQ==
\begin{tikzcd}[row sep={between origins,20mm},column sep={between origins,5mm}]
	{\mathcal{N}_{\phi}} && {g^{*}\mathcal{N}_{\varphi}} &[10mm]& {\mathcal{N}_{\varphi}} \\[-12mm]
	& N && Z \\
	& Y && X
	\arrow["f", from=3-2, to=3-4]
	\arrow["\varphi", from=2-4, to=3-4]
	\arrow["g", from=2-2, to=2-4]
	\arrow["\phi"', from=2-2, to=3-2]
	\arrow[no head, from=1-5, to=2-4]
	\arrow[no head, from=1-3, to=2-2]
	\arrow[no head, from=1-1, to=2-2]
\end{tikzcd}
\end{equation}

For any $\alpha \in K^G(Z)$, we have the \textbf{excess base change formula}:
$$f^* \circ \varphi_{*}(\alpha)=\phi_{*} \left( \eu(\mathcal{T})\cdot g^*(\alpha)\rule{0mm}{4mm}  \right) \qquad \text{ in }K^{G}(Y)$$


\end{theorem}

By applying Theorem \ref{thm:excess_base_change} to the Cartesian square \eqref{eq:fake_localization_formula}, we get the (fake) localization formula:
\begin{equation}\label{eq:fake_localization_formula}
% https://q.uiver.app/?q=WzAsNCxbMSwwLCJYXlQiXSxbMCwwLCJYXlQiXSxbMCwxLCJYXlQiXSxbMSwxLCJYIl0sWzAsMywiaSJdLFsyLDMsImkiXSxbMSwwLCJcXElkIl0sWzEsMiwiXFxJZCIsMl1d
\begin{tikzcd}
	{X^T} & {X^T} \\
	{X^T} & X
	\arrow["i", from=1-2, to=2-2]
	\arrow["i", from=2-1, to=2-2]
	\arrow["\Id", from=1-1, to=1-2]
	\arrow["\Id"', from=1-1, to=2-1]
\end{tikzcd}
\end{equation}

\begin{proposition}[Fake localization formula]
For a smooth $T$-variety $X$ with finite fixed points $\{x_1,\ldots,x_m \}$, denote $i:X^T \longrightarrow X$ and $i_k: \{x_k\} \longrightarrow X$ as embeddings. For any $\beta \in K^T(X^T)$, $\beta_k \in K^T(\{x_k\})$, we have formulas
$$i^*i_* \beta =\eu \left( \bigoplus_k T_{x_k}X \right) \cdot \beta \qquad i_{k}^*i_{k,*} \beta =\eu \left( T_{x_k}X \right) \cdot \beta_k.$$


\end{proposition}

This proposition is not as powerful as it is supposed to be, but it explains some technical details in the localization theorem and localization formula. First, we would like to work on a base ring where Euler classes are invertible, so we denote the curly font as everything in the fraction field.
\begin{equation*}
\begin{aligned}
  \Rptc(T):=\;& \Frac\!\big(\!\Rpt(T)\big) \qquad & \Kcurl^T(X):=\;& K^T(X) \otimes_{\Rpt(T)}\Rptc(T)  \\ 
  \Sptc(T):=\;& \Frac\!\big(\!\Spt(T)\big) \qquad & \Hcurl_{T}^{*}(X):=\;& H_{T}^{*}(X) \otimes_{\Spt(T)}\Sptc(T)  \\
\end{aligned}
\end{equation*}

Now we can do linear algebras and discuss about the actual basis:
\begin{theorem}[{Localization theorem, \cite[Theorem 10.1]{przezdziecki2015geometric} or \cite[Corollary 5.11.3]{chriss1997representation}}]
Let $X$ be a smooth $T$-variety,  $i:X^T \longrightarrow X$ be the embedding. The morphisms $i_*$, $i^*$ are isomorphism after tensored over the fraction field, i.e.,
% https://q.uiver.app/?q=WzAsNixbMSwwLCJcXEtjdXJsXlQoWCkiXSxbMCwwLCJcXEtjdXJsXlQoWF5UKSJdLFsyLDAsIlxcS2N1cmxeVChYXlQpIl0sWzAsMSwiXFxIY3VybF97VH1eeyp9KFheVCkiXSxbMSwxLCJcXEhjdXJsX3tUfV57Kn0oWCkiXSxbMiwxLCJcXEhjdXJsX3tUfV57Kn0oWF5UKSJdLFswLDIsImleKiJdLFszLDQsImlfKiJdLFs0LDUsImleKiJdLFsxLDAsImlfKiJdXQ==
\[\begin{tikzcd}[row sep=0mm]
	{\Kcurl^T(X^T)} & {\Kcurl^T(X)} & {\Kcurl^T(X^T)} \\
	{\Hcurl_{T}^{*}(X^T)} & {\Hcurl_{T}^{*}(X)} & {\Hcurl_{T}^{*}(X^T)}
	\arrow["{i^*}", from=1-2, to=1-3]
	\arrow["{i_*}", from=2-1, to=2-2]
	\arrow["{i^*}", from=2-2, to=2-3]
	\arrow["{i_*}", from=1-1, to=1-2]
\end{tikzcd}\]
are isomorphism as $\mathcal{R}(T)$ or $\mathcal{S}(T)$-modules.
\end{theorem}

The genuine localization formula is stated as follows.

\begin{theorem}[{Localization formula, \cite[Theorem 10.2]{przezdziecki2015geometric} or \cite[Proposition 6]{edidin1998localization}}]\label{thm:localization_formula}
For a smooth $T$-variety $X$ with finite fixed points $\{x_1,\ldots,x_m \}$, denote $i_k: \{x_k\} \longrightarrow X$ as embeddings. For any $\alpha \in \Kcurl^T(X)$, we have formula
$$\alpha= \sum_{k=1}^{m} \eta_k \cdot i_{k,*}i_{k}^* \alpha $$
where $\eta_k:= \left(\!\rule{0mm}{3.5mm} \eu(T_{x_k}X) \right)^{-1} \in \Rptc(T)$.

More generally, suppose $f: Y \hookrightarrow X$ is a $T$-equivariant closed subvariety with finite fixed points $\{x_1,\ldots,x_{m'} \}$, denote $i'_k: \{x_k\} \longrightarrow Y$ as embeddings. For any $\beta \in \Kcurl^T(Y)$, we have formula
$$\beta= \sum_{k=1}^{m} \eta_k \cdot i'_{k,*}i_{k}^* f_{*} \beta. $$

\end{theorem}

\section{Application: change of basis}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Excess intersection formula}

\section{Convolution}\label{sec:convolution}
The construction of the convolution product has a similar flavor with Fourier-Mukai transformation, which is the composition of pullback, tensor product and proper pushforward.

\begin{defn}[Convolution product]
For the convenience of reading, we divide the whole process into three steps.
\paragraph*{\underline{Step1.}}Setting.\\[-3mm]

Let $M_1$, $M_2$, $M_3$ be smooth quasi-projective $G$-varieties. For convenience, denote
$$M_{ij}:=M_i \times M_j \qquad M_{123}=M_1 \times M_2 \times M_3$$
and $p_i^{jk}, p_i:=p_i^{123}, p_{ij}:=p_{ij}^{123}$ as projections onto some factors, as follows.
% https://q.uiver.app/?q=WzAsNyxbMiwwLCJHIFxcdGltZXMgRyBcXHRpbWVzIFgiXSxbMSwxLCJHIFxcdGltZXMgRyJdLFszLDEsIkcgXFx0aW1lcyBYIl0sWzUsMSwiRyBcXHRpbWVzIFgiXSxbNCwyLCJYIl0sWzIsMiwiRyJdLFswLDIsIkciXSxbMSw2LCJwXzFeezEyfSIsMl0sWzAsMSwicF97MTJ9IiwyXSxbMCwyLCJwX3syM30iXSxbMiw0LCJwXzNeezIzfSJdLFsxLDUsInBfMl57MTJ9Il0sWzIsNSwicF8yXnsyM30iLDJdLFszLDQsInBfM157MTN9IiwwLHsibGFiZWxfcG9zaXRpb24iOjMwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMyw2LCJwXzFeezEzfSIsMix7ImxhYmVsX3Bvc2l0aW9uIjoyMCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMywicF97MTN9IiwwLHsiY3VydmUiOi0yfV1d
\[\begin{tikzcd}[column sep={1.5cm,between origins}]
	&& {M_{123}} &&&[2cm]\\
	& {M_{12}} && {M_{23}} && {M_{13}} \\
	M_1 && M_2 && M_3 &
	\arrow["{p_1^{12}}"', from=2-2, to=3-1]
	\arrow["{p_{12}}"', from=1-3, to=2-2]
	\arrow["{p_{23}}", from=1-3, to=2-4]
	\arrow["{p_3^{23}}", from=2-4, to=3-5]
	\arrow["{p_2^{12}}", from=2-2, to=3-3]
	\arrow["{p_2^{23}}"', from=2-4, to=3-3]
	\arrow["{p_3^{13}}"{pos=0.3}, dashed, from=2-6, to=3-5]
	\arrow["{p_1^{13}}"'{pos=0.2}, dashed, from=2-6, to=3-1]
	\arrow["{p_{13}}", curve={height=-12pt}, from=1-3, to=2-6]
\end{tikzcd}\]
(Check that $p_i = p_i^{jk} \circ p_{jk}$ for $1 \leqslant j < k \leqslant 3$, $i=j$ or $i=k$)



\paragraph*{\underline{Step2.}}Convolution product on the level of varieties.\\[-3mm]

For closed $G$-subvarieties $Z_{12} \subseteq M_{12}$, $Z_{23} \subseteq M_{23}$, denote
$$Z_{123}:= p_{12}^{-1}(Z_{12}) \cap p_{23}^{-1}(Z_{23}) \subseteq M_{123}$$
as the intersection of two preimages. The \textbf{convolution product} of $Z_{12}$ and $Z_{23}$ is defined as
$$Z_{12} \circ Z_{23} := p_{13}(Z_{123}) \subseteq M_{13}$$
which is a closed $G$-subvariety of $M_{13}$.
\paragraph*{\underline{Step3.}}Convolution product on the level of $K$-theories.\\[-3mm]

Denote 
$$\pi_{12}:=p_{12}\big|_{Z_{123}} \qquad \pi_{23}:=p_{23}\big|_{Z_{123}} \qquad
\pi_{13}:=p_{13}\big|_{Z_{123}}$$
as corresponding morphisms restricted to $Z_{123}$. We assume that $\pi_{13}$ is proper, so that we can use proper pushforward in $K$-theory.

We define the convolution product by
$$*: K_0^G(Z_{12}) \times K_0^G(Z_{23}) \longrightarrow K_0^G(Z_{12} \circ Z_{23}) \qquad (\mathcal{F}_{12}, \mathcal{F}_{23}) \longmapsto \mathcal{F}_{12}*\mathcal{F}_{23}$$
$$\mathcal{F}_{12}*\mathcal{F}_{23}=\pi_{13,*}\left(\pi_{12}^* \mathcal{F}_{12} \otimes \pi_{23}^* \mathcal{F}_{23} \right) \in K_0^G(Z_{12} \circ Z_{23})$$
\begin{remark}
Those "$Z$-varieties" ($Z_{12}$, $p_{12}^{-1}(Z_{12})$, $Z_{123}$, etc.) are often singular in practice, so $\pi_{12}^{*}$, $\pi_{23}^{*}$ and $\otimes$ are defined in the sense of "restriction with supports", under the "$M$-varieties" which are smooth. The following diagram best illustrates the "actual" definition.
%closed immersion induce f.faithful map in quasicoherent sheaf: https://en.wikipedia.org/wiki/Closed_immersion
% https://q.uiver.app/?q=WzAsOCxbMCwwLCJLXzBeRyhaX3sxMn0pIFxcdGltZXMgS18wXkcoWl97MjN9KSJdLFsxLDAsIktfMF5HXFxiaWcocF97MTJ9XnstMX0oWl97MTJ9KVxcYmlnKSBcXHRpbWVzIEtfMF5HXFxiaWcocF97MTJ9XnstMX0oWl97MjN9KVxcYmlnKSJdLFswLDEsIktfMF5HKE1fezEyfSkgXFx0aW1lcyBLXzBeRyhNX3syM30pIl0sWzEsMSwiS18wXkcoTV97MTIzfSkgXFx0aW1lcyBLXzBeRyhNX3sxMjN9KSJdLFsyLDEsIktfMF5HKE1fezEyM30pIl0sWzMsMSwiS18wXkcoTV97MTN9KSJdLFsyLDAsIktfMF5HKFpfezEyM30pIl0sWzMsMCwiS18wXkcoWl97MTJ9IFxcY2lyYyBaX3syM30pIl0sWzAsMiwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbMSwzLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFs2LDQsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV0sWzcsNSwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbMiwzLCJwX3sxMn1eKiBcXHRpbWVzIHBfezIzfV4qIl0sWzMsNCwiXFxvdGltZXMiXSxbNCw1LCJwX3sxMywqfSJdLFs2LDcsIlxccGlfezEzLCp9Il0sWzEsNiwiXFxvdGltZXMiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCwxLCJcXHBpX3sxMn1eKiBcXHRpbWVzIFxccGlfezIzfV4qIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\tikzcdset{scale cd/.style={every label/.append style={scale=#1},
    cells={nodes={scale=#1}}}}
\[\begin{tikzcd}[scale cd=0.84]
	{K_0^G(Z_{12}) \times K_0^G(Z_{23})} & {K_0^G\big(p_{12}^{-1}(Z_{12})\big) \times K_0^G\big(p_{12}^{-1}(Z_{23})\big)} & {K_0^G(Z_{123})} & {K_0^G(Z_{12} \circ Z_{23})} \\
	{K_0^G(M_{12}) \times K_0^G(M_{23})} & {K_0^G(M_{123}) \times K_0^G(M_{123})} & {K_0^G(M_{123})} & {K_0^G(M_{13})}
	\arrow[hook', from=1-1, to=2-1]
	\arrow[hook', from=1-2, to=2-2]
	\arrow[hook', from=1-3, to=2-3]
	\arrow[hook', from=1-4, to=2-4]
	\arrow["{p_{12}^* \times p_{23}^*}", from=2-1, to=2-2]
	\arrow["\otimes", from=2-2, to=2-3]
	\arrow["{p_{13,*}}", from=2-3, to=2-4]
	\arrow["{\pi_{13,*}}", from=1-3, to=1-4]
	\arrow["\otimes", dashed, from=1-2, to=1-3]
	\arrow["{\pi_{12}^* \times \pi_{23}^*}", dashed, from=1-1, to=1-2]
\end{tikzcd}\]
\end{remark}
\end{defn}
The whole process can be concluded in the following diagram.
\begin{table}[ht]
  \vspace{0cm}
    \centering  
    \includegraphics[]{figures/table/table_convolution.pdf}       
\end{table}

\section{Statement}
To facilitate the computation of intersection (i.e., tensor product in the construction of convolution product), we state the excess intersection formula.
\section{Application: convolution formula}
\section{Demazure operator}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Generalization}


\section{quiver with loops}
\section{$G \times \mathbb{C}^{\times}$-action}\label{sec:Cstar_action}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{From formula to diagram}\label{chap:diagram}

\section{One point quiver}
\section{$A_2$-quiver}
\section{$1$-loop quiver}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Atiyah-Segal completion theorem}\label{chap:AScompletion}


\bibliographystyle{plain}
\bibliography{reference}
\end{document}




