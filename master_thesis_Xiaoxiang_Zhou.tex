
\documentclass[reqno,11pt]{book}

%\usepackage{color,graphicx}
%\usepackage{mathrsfs,amsbsy}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{bm}
\usepackage{caption,subcaption}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{enumerate}
\usepackage{extarrows}
\usepackage[mathscr]{eucal}
\usepackage{float}
\usepackage{mathrsfs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage[all,pdf]{xy}
\usepackage[a4paper,left=3cm,right=3cm]{geometry}
\usepackage[table,xcdraw]{xcolor} % before tikz-cd
\usepackage{tikz-cd}
\usepackage{hyperref}
\usepackage{scalerel}
\usepackage{stackengine,wasysym}
\usepackage[width=0.5,tiewidth=0.7]{strands}
\usepackage{quiver}
\usepackage{enumitem}
\usepackage{array}
\usepackage{diagbox}
\usepackage{makecell}
\usepackage{adjustbox}
\usepackage{indentfirst}
%\usepackage{nicematrix}%https://ctan.org/pkg/nicematrix?lang=en
%\usepackage[notcite,notref]{showkeys}

% showkeys  make label explicit on the paper


\numberwithin{equation}{section}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{defn}[theorem]{Definition}
\newtheorem{ques}[theorem]{Question}
\newtheorem*{bbox}{Black box}
\newtheorem{eg}[theorem]{Example}
\newtheorem{ex}[theorem]{Exercise}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{warning}[theorem]{Warning}
\newtheorem{setting}[theorem]{Setting}

\theoremstyle{plain}
\newtheorem{thmsub}{Theorem}[subsection]
\newtheorem{lemmasub}[thmsub]{Lemma}
\newtheorem{corollarysub}[thmsub]{Corollary}
\newtheorem{propositionsub}[thmsub]{Proposition}
\newtheorem{defnsub}[thmsub]{Definition}

\numberwithin{equation}{section}


\theoremstyle{remark}

\newtheorem{remark}[theorem]{Remark}
\newtheorem{remarks}{Remarks}

%\renewcommand\thefootnote{\fnsymbol{footnote}}
%dont use number as footnote symbol, use this command to change

\DeclareMathOperator{\GL}{\operatorname{GL}}
\DeclareMathOperator{\SL}{\operatorname{SL}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\Img}{\operatorname{Im}}
\DeclareMathOperator{\gr}{\operatorname{gr}}
\DeclareMathOperator{\Id}{\operatorname{Id}}
\DeclareMathOperator{\rep}{\operatorname{rep}}
\DeclareMathOperator{\Rep}{\operatorname{Rep}}
\DeclareMathOperator{\Irr}{\operatorname{Irr}}
\DeclareMathOperator{\RRep}{\widetilde{\operatorname{Rep}}}
\DeclareMathOperator{\Mod}{\operatorname{Mod}}
\DeclareMathOperator{\Coh}{\operatorname{Coh}}
\newcommand{\Dcoh}{\mathcal{D}_{\operatorname{Coh}}}%%%This one shows the difference between \DeclareMathOperator and \newcommand
\DeclareMathOperator{\Hom}{\operatorname{Hom}}
\DeclareMathOperator{\Ext}{\operatorname{Ext}}
\DeclareMathOperator{\gldim}{\operatorname{gl.dim}}
\DeclareMathOperator{\projdim}{\operatorname{proj.dim}}
\DeclareMathOperator{\injdim}{\operatorname{inj.dim}}
\DeclareMathOperator{\dimv}{\operatorname{\underline{\mathbf{dim}}}}
\DeclareMathOperator{\Alggp}{\text{-Alg gp}}
\DeclareMathOperator{\Pic}{\operatorname{Pic}}
\DeclareMathOperator{\Jac}{\operatorname{Jac}}
\DeclareMathOperator{\pt}{\operatorname{pt}}
\DeclareMathOperator{\ptt}{\operatorname{par}}
\DeclareMathOperator{\Rpt}{\operatorname{R}}
\DeclareMathOperator{\Spt}{\operatorname{S}}
\newcommand{\Spec}{\operatorname{Spec}}
\DeclareMathOperator{\St}{\mathcal{Z}}
\DeclareMathOperator{\Flagd}{\operatorname{Flag}_{\mathbf{d}}}
\DeclareMathOperator{\Flagdstr}{\operatorname{Flag}_{\mathbf{d},str}}
\newcommand{\Gr}{\operatorname{Gr}}
\newcommand{\Grr}{\operatorname{Gr}}
\newcommand{\Grq}{\operatorname{Gr}^{KQ}}
\newcommand{\Flag}[1]{\operatorname{Flag}_{\mathbf{#1}}}
\newcommand{\Flagstr}[1]{\operatorname{Flag}_{\mathbf{#1},str}}
\newcommand{\dimvec}[1]{\mathbf{#1}}
\newcommand{\abdimvec}[1]{|\dimvec{#1}|}
\newcommand{\ftdimvec}[1]{\underline{\dimvec{#1}}}
\newcommand{\absgp}[1]{\mathbb{#1}}
\newcommand{\ww}{\varpi}
\newcommand{\Ri}{\operatorname{R}^i\!\!}
\DeclareMathOperator{\MinWd}{\operatorname{Min}(\absgp{W}_{\abdimvec{d}},W_{\dimvec{d}})}
\DeclareMathOperator{\Compd}{\operatorname{Comp}_{\dimvec{d}}}
\DeclareMathOperator{\Shuffled}{\operatorname{Schuffle}_{\dimvec{d}}}
\newcommand{\WWd}{\absgp{W}_{\abdimvec{d}}}
\newcommand{\Wd}{W_{\dimvec{d}}}
\newcommand{\norm}[1]{\Vert{#1}\Vert}
\newcommand{\ord}{\operatorname{ord}}
\newcommand{\orde}{\operatorname{ord}_e }
\newcommand{\representation}[2]{\genfrac{}{}{0pt}{3}{\phantom{000}#2\phantom{00}}{#1}}
\newcommand{\Omcell}{\Omega}
\newcommand{\OOmcell}{\boldsymbol{\Omega}}
\newcommand{\Vcell}{\mathcal{V}}
\newcommand{\VVcell}{\boldsymbol{\mathcal{V}}}
\newcommand{\Ocell}{\mathcal{O}}
\newcommand{\OOcell}{\boldsymbol{\mathcal{O}}}
\newcommand{\preimage}[1]{\widetilde{#1}}

\newcommand{\inCell}[2]
{\setlength{\fboxrule}{0pt} %%https://tex.stackexchange.com/questions/393676/remove-border-of-a-framebox
\fbox{
  \begin{minipage}{1cm}
    \centering
      {\hspace{-0.13cm}\textcolor{red}{$\scriptstyle {#1}$} \hfill $\,$}%
      \linebreak 
      {$#2$}%
      \linebreak 
      \vspace{0cm}
  \end{minipage}
  }
}
%global settings
\setlength\parindent{15pt}
\setlength\intextsep{0cm}
\setlength\textfloatsep{0cm}
\def\arraystretch{1.2}
\setcounter{secnumdepth}{3}

\makeatletter
\preto\env@matrix{\renewcommand{\arraystretch}{0.6}
\setlength\arraycolsep{1pt}}
\makeatother

% HIGHLIGHTING

%\newcommand{\lbox}{\adjustbox{cfbox=red, margin=-\fboxrule-\fboxsep}}
\newcommand{\lbox}{\adjustbox{}}
% from https://tex.stackexchange.com/questions/63545/big-tilde-in-math-mode

%https://tex.stackexchange.com/questions/456307/invalid-use-of-intertext-in-aligned
\newcommand{\alignedintertext}[1]{%
  \noalign{%
    \vskip\belowdisplayshortskip
    \vtop{\hsize=\linewidth#1\par
    \expandafter}%
    \expandafter\prevdepth\the\prevdepth
  }%
}
\begin{document}
\date{}

\title
{Master thesis
}


%\author{Xiaoxiang Zhou}
%\address{School of Mathematical Sciences\\
%University of Bonn\\
%Bonn, 53115\\ Germany\\} 
%\email{email:xx352229@mail.ustc.edu.cn}



\setcounter{tocdepth}{2}
\maketitle
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{warning}
I made some assumptions during the writing. To avoid confusing readers, these assumptions are listed here:
\begin{itemize}
\item For quivers, all the quivers we considered (except Auslander--Reiten quivers) are connected and finite (Remark \ref{rmk:quiver_restriction}). For simplicity, From ??? to ???, all the quivers have no loops or cycles.
%maybe the cycle condition can be removed.

\item  For any $\ww \in \WWd$, we always write $\ww = wu$, where $w \in \Wd$ and $u$ is the shortest element in the coset $\Wd \ww$. The flag-type dimension vector $\ftdimvec{d} \in \Wd \setminus \WWd$ corresponds to $u$, i.e., $\ftdimvec{d}=\Wd u$. Whenever $\tilde{w}$ and $\tilde{u}$ emerge, they are always defined by $uw'u'=\tilde{w}\tilde{u}$.

\item For the diagram, we always read from top to bottom.
\end{itemize}
\end{warning}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Variety and stratification}

\section{Initial case: $\mathcal{F}$ and $\mathcal{F} \times \mathcal{F}$}\label{sec:inital_case}

We introduce the complete flag variety to give a bird's eye view on the whole section. Actually, the entire difficulty is bundled in this example.

\begin{setting}\label{set:initial_case}
Fix $n \geqslant 1$, we denote $\GL_n:=\GL_n(\mathbb{C})$, $B$, $T$, $N$, $W$ be the standard Borel subgroup, standard torus, unipotent subgroup, Weyl group respectively, i.e.,
{
\setlength\arraycolsep{1pt}
\renewcommand{\arraystretch}{0.6}
$$\GL_n= \begin{pmatrix}
* & \cdots & * \\[-1.4mm]
\vdots & \ddots & \vdots \\
* & \cdots & * 
\end{pmatrix} \quad
B= \begin{pmatrix}
* & \cdots & * \\[-1.4mm]
 & \ddots & \vdots \\
\scriptstyle 0 &  & * 
\end{pmatrix} \quad
T= \begin{pmatrix}
* &  & \scriptstyle 0 \\[-1.4mm]
 & \ddots &  \\
\scriptstyle 0 &  & * 
\end{pmatrix} \quad
N= \begin{pmatrix}
\scriptstyle 1 & \cdots & * \\[-1.4mm]
 & \ddots & \vdots \\
\scriptstyle 0 &  & \scriptstyle 1
\end{pmatrix} \quad
$$
$$W:= N_{\GL_n}(T)/T \cong S_n$$
}
\end{setting}

\subsection{$\mathcal{F}$}
\begin{defn}[Flag]
For a finite dimensional $\mathbb{C}$-vector space $V$, a flag of $V$ is an increasing sequence of subspaces of $V$:
$$F: 0 \subseteq M_1 \subseteq M_2 \subseteq \cdots \subseteq M_k = V.$$
$F$ is called a complete flag if $\dim V_j = j$ for all $j$, otherwise $F$ is called a partial flag.
\end{defn}

\begin{defn}[Complete flag variety]
The complete flag variety $\mathcal{F}$ is defined as 
\begin{equation*}
\begin{aligned}
  \mathcal{F}=\;& \GL_n/B \\ 
    \cong\;&  \left\{ \text{complete flags of } \mathbb{C}^n \right\} \\ 
      =\;& \left\{ 0 \subseteq M_1 \subseteq M_2 \subseteq \cdots \subseteq M_n = \mathbb{C}^n \;\middle|\; \dim M_j =j \right\} \\ 
       \cong\;&  \left\{ \text{Borel subgroups of } \GL_n \right\} \\
          =\;& \left\{ gBg^{-1} \;\middle|\; g \in \GL_n \right\} \\ 
\end{aligned}
\end{equation*}
\end{defn}

\begin{remark}\
\begin{enumerate}
\item $\mathcal{F}$ is a smooth projective variety of dimension $\frac{n(n+1)}{2}$, which can be seen from the embedding
$$\mathcal{F} \hookrightarrow \Gr(1,n) \times \cdots \times \Gr(n-1,n)$$

\item We implicitly give the base point of $\mathcal{F}$, which is not considered as the data of $\mathcal{F}$. Fix a standard basis of $\mathbb{C}^n$ by $\{v_1, \ldots, v_n \}$, we define the standard flag
$$F_{\Id}: 0 \subseteq \left< v_1 \right> \subseteq \left< v_1,v_2 \right> \subseteq \cdots \subseteq \left< v_1, \ldots, v_n \right> = \mathbb{C}^n.$$
\item We have the natural $\GL_n$-action on $\mathcal{F}$, which is considered as the data of $\mathcal{F}$.

For $g \in \GL_n$, we define the flag attached to $g$: 
$$F_g \triangleq gF_{\Id}: 0 \subseteq \left< gv_1 \right> \subseteq \left< gv_1,gv_2 \right> \subseteq \cdots \subseteq \left< gv_1, \ldots, gv_n \right> = \mathbb{C}^n.$$
Especially, for $w \in W=N_{\GL_n}(T)/T \cong S_n$, the flag attached to $w$
\begin{equation*}
\begin{aligned}
  F_w:\;&  0 \subseteq \left< \tilde{w}v_1 \right> \subseteq \left< \tilde{w}v_1,\tilde{w}v_2 \right> \subseteq \cdots \subseteq \left< \tilde{w}v_1, \ldots, \tilde{w}v_n \right> = \mathbb{C}^n\\ 
  &  0 \subseteq \left< v_{w(1)} \right> \subseteq \left< v_{w(1)},v_{w(2)} \right> \subseteq \cdots \subseteq \left< v_{w(1)}, \ldots, v_{w(n)} \right> = \mathbb{C}^n\\
\end{aligned}
\end{equation*}
does not depend on the choice of the lift $\tilde{w} \in N_{\GL_n}(T)$ of $w$.

Readers can verify that $\left\{ F_w \,\middle|\, w \in W \right\}$ are all $T$-fixed points of $\mathcal{F}$, while $\left\{ wBw^{-1} \,\middle|\, w \in W \right\}$ are all Borel subgroups of $G$ containing the standard torus $T$.
\item For $n=2$, $\mathcal{F} \cong \mathbb{P}^1$. We encourage readers to use $\mathbb{P}^1$ as a toy example for the whole theory.
\end{enumerate}
\end{remark}
\begin{table}[ht]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
interpretation & $\GL_n/B$           & flags                       & Borel subgroups \\ \hline
base point     & $\Id$               & $F_{\Id}$                   & $B$             \\ \hline
$\GL_n$-action & left multiplication & $\{V_i\} \mapsto \{gV_i \}$ & conjugation     \\ \hline
general point  & $g$                 & $F_g$                       & $gBg^{-1}$      \\ \hline
\end{tabular}
\end{table}
        
$\mathcal{F}$ is a well-studied variety, and has many combinatorical properties. For example, from the well-known Bruhat decomposition, \footnote{For the most time the formula does not depend on the lift of $w$, so we abuse the notation of $w \in N_{\GL_n}(T)/T$ and $\tilde{w} \in N_{\GL_n}(T)$.}
$$\GL_n =\bigsqcup_{w\in W} BwB$$

We get a stratification of $\mathcal{F}$ by $B$-orbits:
$$\mathcal{F} = \GL_n/B \cong \bigsqcup_{w\in W} BwB/B$$
The $B$-orbit $BwB/B$ is called the \textbf{Schubert cell}, denoted by $\Omcell_w$. Since 
$$\Omcell_w=BwB/B \cong B/\left( B \cap wBw^{-1} \right) \cong \mathbb{A}^{l(w)},$$
the Schubert cell is an affine space of dimension $l(w)$.

As a result, we know a lot of information of $\mathcal{F}$:
%https://tex.stackexchange.com/questions/112576/math-mode-in-tabular-without-having-to-use-everywhere
\newcolumntype{C}{>{$}c<{$}} % math-mode version of "l" column type
\begin{table}[]
\centering
\begin{tabular}{|C|C|C|C|C|C|C|C|}
\hline
H^i(\mathcal{F}; \mathbb{C}) & 0 & 2 & 4 & 6  & 8  & 10 & 12 \\ \hline
1                            & 1 &   &   &    &    &    &    \\ \hline
2                            & 1 & 1 &   &    &    &    &    \\ \hline
3                            & 1 & 2 & 2 & 1  &    &    &    \\ \hline
4                            & 1 & 3 & 5 & 6  & 5  & 3  & 1  \\ \hline
5                            & 1 & 4 & 9 & 15 & 20 & 22 & 20 \\ \hline
\end{tabular}
\end{table}
\begin{table}[]
\centering
\begin{tabular}{C|C|C}
\hline
G    & \text{Orbit}                       & G\text{-fixed points}  \\ \hline
GL_n & \mathcal{F} \cong \GL_n/B          & \varnothing            \\ \hline
B    & \Omcell_w \cong B/(B \cap wBw^{-1}) & \{F_{\Id} \}           \\ \hline
T    & -                                  & \{F_w |  \, w \in W \} \\ \hline
\end{tabular}
\end{table}

$\overline{\Omcell}_w \subseteq \mathcal{F}$ is called the \textbf{Schubert variety}. It is well-known that
$$\overline{\Omcell}_w= \bigsqcup_{w' \leq w} \Omcell_w$$
as a set. Especially, for any $s\in W$ with $l(s)=1$, denote $P_s=B \sqcup BsB$,
$$\overline{\Omcell}_s= \Omcell_{\Id} \sqcup \Omcell_s = B/B \sqcup BsB/B = P_s/B \cong \mathbb{P}^1.$$
For other Schubert variety, the structures are quite dedicate and far away from the scope of this master thesis. For example, most  Schubert varieties are not smooth.


\subsection{$\mathcal{F} \times \mathcal{F}$}\label{subsec:product_of_F}
As a more complicated geometrical object, $\mathcal{F} \times \mathcal{F}$ works as the base space for the Steinberg variety, which turns out to be the central focus in the thesis. $\mathcal{F} \times \mathcal{F}$ has naturally a diagonal $\GL_n$-action:
$$\GL_n \times \mathcal{F} \times \mathcal{F} \longrightarrow \mathcal{F} \times \mathcal{F} \qquad (g,F_1,F_2) \longmapsto (gF_1,gF_2).$$
Under this action, $\mathcal{F} \times \mathcal{F}$ has a stratification consisting of $GL_n$-orbits, indexed by the Weyl group:
$$\GL_n \setminus (\mathcal{F} \times \mathcal{F}) \cong \GL_n \setminus (\GL_n/B \times \GL_n/B) \cong B \setminus \GL_n /B \cong W \quad \text{ as sets.}$$

Denote $\OOmcell_{w'}:= \GL_n \cdot (F_{\Id}, F_{w'})$, then $\mathcal{F} \times \mathcal{F}= \sqcup_{w'} \OOmcell_{w'}$. Moreover, by the orbit-stabilizer theorem, we get
$$\OOmcell_{w'} \cong \GL_n/\left( B \cap w'B(w')^{-1}  \right).$$

Different from $\mathcal{F}$, the $\GL_n$-action on $\mathcal{F} \times \mathcal{F}$ is not transitive. To facilitate the stratification of $\mathcal{F}\times \mathcal{F}$, we introduce the twisted $\GL_n \times \GL_n$-action:
$$\GL_n \times \GL_n \times \mathcal{F} \times \mathcal{F} \longrightarrow \mathcal{F} \times \mathcal{F} \qquad (g_1,g_2,F_g,F_{g'}) \longmapsto (F_{g_1g},F_{g_1(gg_2g^{-1}) g'}).$$
If we write $\underline{F}_{g,g'}:= (F_g,F_{gg'}) \in \mathcal{F} \times \mathcal{F}$, then 
$$(g_1,g_2) \cdot\underline{F}_{g,g'}=\underline{F}_{g_1g,g_2g'}.$$

This $\GL_n \times \GL_n$-action is now transitive, and decompose $\mathcal{F}\times \mathcal{F}$ as disjoint union of finite many $B \times B$-orbits, which are compatible with $G$-orbits:

\begin{equation*}
\begin{aligned}
  &\OOmcell_{w,w'}:=\; (B \times B) \cdot \underline{F}_{w,w'} \subseteq \mathcal{F}\times \mathcal{F}\\ 
  &\mathcal{F}\times \mathcal{F}= \bigsqcup_{w, w'\in W} \OOmcell_{w,w'} \qquad\OOmcell_{w'}= \bigsqcup_{w\in W} \OOmcell_{w,w'} \\
\end{aligned}
\end{equation*}
\begin{equation}\label{eq:twisted_stabilizer}
\begin{aligned}
   \OOmcell_{w,w'} \cong\;& (B \times B)/\left\{ (g_1,g_2) \in B \times B  \;\middle|\; (g_1,g_2) \cdot (F_w,F_{ww'})=(F_w,F_{ww'})  \right\}\\
=\;& (B \times B)/\left\{ (g_1,g_2) \in B \times B  \;\middle|\; g_1wB=wB, g_1wg_2w'B=ww'B  \right\}\\   
=\;& (B \times B)/\left\{ (g_1,g_2) \in B \times B  \;\middle|\; g_1wB=wB, (w^{-1}g_1w)g_2w'B=w'B  \right\}\\   
=\;& (B \times B)/\left\{ (g_1,g_2) \in B \times B  \;\middle|\; g_1\in wBw^{-1}, g_2 \in (w^{-1}g_1^{-1}w) \left(w'Bw'^{-1}\right)  \right\}\\  
=\;& (B \times B)/\left\{ (g_1,g_2) \in \left(B \cap wBw^{-1}\right) \times (w^{-1}g_1^{-1}w)  \left(B \cap  w'Bw'^{-1}\right)    \right\}\\  
   \cong\;& B/(B \cap wBw^{-1}) \times B/(B \cap w'Bw'^{-1}) \cong \mathbb{A}^{l(w)+l(w')}
\end{aligned}
\end{equation}
We conclude the information of orbits and fixed points of $\mathcal{F}\times \mathcal{F}$ in Table \ref{table:orbit_of_F*F}:

\begin{table}[ht]
\centering
\[
\begin{array}{c|c|c}
\hline
G                  & \text{Orbit}              & G\text{-fixed points}                      \\ \hline
\GL_n \times \GL_n & \mathcal{F} \times \mathcal{F} & \varnothing                                \\ \hline
\GL_n              & \OOmcell_{w'}              & \varnothing                                \\ \hline
B \times B         & \OOmcell_{w,w'}            & \{F_{\Id,\Id} \}                           \\ \hline
T                  & -                         & \{\underline{F}_{w,w'} |  \, w,w' \in W \} \\ \hline
\end{array}
\]
\caption{Orbit and fixed points of $\mathcal{F}\times \mathcal{F}$}
\label{table:orbit_of_F*F}
\end{table}

Like $\mathcal{F}$, we also study the closure of $\OOmcell_{w'}$ and $\OOmcell_{w,w'}$ in special case. It can be shown that 
$$\overline{\OOmcell}_{w'} = \bigsqcup_{x'\leq w'} \OOmcell_{x'} \qquad 
\overline{\OOmcell}_{w,w'} = \bigsqcup_{x \leq w, x'\leq w'} \OOmcell_{x,x'}$$
as a set. Especially, for any $s \in W$ with $l(s)=1$, \footnote{Here, $\GL_n \times^B X$ is called contracted product. Roughly, it is defined by
$$\GL_n \times^B X :=\GL_n \times X/\big( (gb,x) \sim (g,bx) \big)$$
We will discuss contracted product in Subsection \ref{subsec:contracted_product} thoroughly.}

\begin{equation*}
\begin{aligned}
 \overline{\OOmcell}_{s} = \OOmcell_{\Id}\sqcup \OOmcell_{s} \cong\;& 
  \GL_n /(B \cap sBs^{-1}) &&\sqcup \GL_n/B \\ 
  \cong\;&  \GL_n \times^{B} \left(B/(B \cap sBs^{-1})\right)\hspace{-0.4cm} &&\sqcup \GL_n \times^{B} (B/B) \\ 
  \cong\;& \GL_n \times^{B} (BsB/B) &&\sqcup \GL_n \times^{B} (B/B)  \\ 
  \cong\;& \GL_n \times^{B} (P_s/B)&& \\ 
\end{aligned}
\end{equation*}
is an $\mathcal{F}$-bundle over $\mathbb{P}^1$. Also, 
\begin{equation*}
\begin{aligned}
\overline{\OOmcell}_{\Id,s} = \OOmcell_{\Id,s} \sqcup \OOmcell_{\Id,\Id} \cong\;& 
 \big(B/B \times BsB/B\big) \sqcup \big(B/B \times B/B\big)  \\ 
 \cong\;& P_s/B \cong \mathbb{P}^1
\end{aligned}
\end{equation*}
Other closure can be highly singular.

\begin{eg}
In the table, $n=3$, $t=(12)$, $s=(23)$. In this case, $\mathcal{F}\times \mathcal{F}$ has $6$ $\GL_3$-orbits, and each $\GL_3$-orbits decompose as $6$ $B\times B$-orbits, with dimensions equal to $l(w)+l(w')$.
\begin{table}[ht]
  \vspace{0cm}
    \centering  \includegraphics[width=12.8cm]{figures/table/table_1.pdf}
      \label{fig:stratifications_of_FF}
        \caption{stratifications of $\mathcal{F}\times \mathcal{F}$}
        
\end{table}

We can also see the $\GL_3$-orbit (and its closure) from the table, for example,
\begin{equation*}
\begin{aligned}
  \OOmcell_{s}=\;& \OOmcell_{\Id,s} \sqcup
  \OOmcell_{t,s} \sqcup
  \OOmcell_{s,s} \sqcup
  \OOmcell_{ts,s} \sqcup
  \OOmcell_{st,s} \sqcup
  \OOmcell_{sts,s}  \\ 
  \overline{\OOmcell}_{s}=\;& \OOmcell_{s} \sqcup \OOmcell_{\Id} = \bigsqcup_{w} (\OOmcell_{w,s} \sqcup \OOmcell_{w,\Id})
\end{aligned}
\end{equation*}
\end{eg}



Now wee understand a lot about $\mathcal{F}$ and $\mathcal{F} \times \mathcal{F}$, and the whole process of analysis(investigations?) will be applied repeatedly in Section \ref{sec:typical_variety} and \ref{sec:stratification}. 
\section{Quiver}
To introduce more complicated spaces and discuss their stratifications, we fix notations related to quiver and algebraic group in the following sections.

Roughly speaking, a quiver is a directed multigraph permitting loops.

\begin{defn}[Quiver]
A quiver is a quadruple 
$$Q=(Q_0,Q_1,s,t)$$
where
\begin{itemize}[noitemsep,topsep=0pt]
\item $Q_0$ is a non-empty set consisting of vertices of $Q$,
\item $Q_1$ is a set consisting of arrows of $Q$,
\item $s:Q_1 \longrightarrow Q_0$ is a map indicating the start vertex of arrows,
\item $t:Q_1 \longrightarrow Q_0$ is a map indicating the terminal vertex of arrows.
\end{itemize}
\end{defn}

\begin{remark}\label{rmk:quiver_restriction}
In the first part of our master thesis, all the quivers are supposed to be connected and finite (i.e., $Q_0$, $Q_1$ are finite sets). We will only encounter disconnected and infinite quiver as Auslander--Reiten quiver later on.
\end{remark}

\begin{eg}
The following graphs are quivers.

\begin{table}[ht]
\centering
\begin{tabular}{@{\extracolsep{5mm}}ccc}
$$\begin{tikzcd}[ampersand replacement=\&]
	\bullet \& \bullet \& \bullet \& \bullet
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-3, to=1-2]
	\arrow[from=1-4, to=1-3]
\end{tikzcd}$$ & $$\begin{tikzcd}[ampersand replacement=\&]
 	\bullet \arrow[out=120,in=60,loop,looseness=8]
 	\arrow[out=0,in=-60,loop,looseness=8]
 	\arrow[out=-120,in=-180,loop,looseness=8]
 \end{tikzcd}$$ & $$\begin{tikzcd}[ampersand replacement=\&]
 	1 \& 2
 	\arrow["a", curve={height=-6pt}, from=1-1, to=1-2]
 	\arrow["b"', curve={height=6pt}, from=1-1, to=1-2]
 \end{tikzcd}$$ \\
 quiver of type $A_3$ & $3$-loop quiver $L(3)$ & $2$-Kronecker quiver $K(2)$
\end{tabular}
\vspace{5mm}
\end{table}
The reader can easily read the quadruple of quivers from the graphs. Take $Q=K(2)$ as an example, we have 
$$Q_0=\{1,2\}, \qquad Q_1=\{a,b\} \qquad s,t: \{a,b\}\longrightarrow \{1,2\}$$
by $s(a)=s(b)=1$, $t(a)=t(b)=2$.

For convenience, we mainly use simpler quivers as examples:

\begin{table}[ht]
\centering
\begin{tabular}{@{\extracolsep{5mm}}ccc}
$$\begin{tikzcd}[ampersand replacement=\&]
	\bullet 
\end{tikzcd}$$ & $$\begin{tikzcd}[ampersand replacement=\&]
	\bullet \& \bullet 
	\arrow[from=1-1, to=1-2]
 \end{tikzcd}$$ & $$\begin{tikzcd}[ampersand replacement=\&]
 	\bullet \arrow[out=30,in=-30,loop,looseness=6]
 \end{tikzcd}$$ \\
 trivial quiver & quiver of type $A_1$ & $1$-loop quiver $L(1)$
\end{tabular}
\vspace{5mm}
\end{table}

\end{eg}

From those quivers we are able to construct relatively complicated algebraic and geometrical objects.

\begin{defn}[Quiver representation]
Fix a quiver $Q$. A representation of $Q$ consists of the following data:
\begin{itemize}[noitemsep,topsep=0pt]
\item A finite dimensional $\mathbb{C}$-vector space $V_i$ for each vertex $i \in Q_0$;
\item A $\mathbb{C}$-linear map $V_a: V_{s(a)} \longrightarrow V_{t(a)}$ for each arrow $a \in Q_1$.
\end{itemize}
\end{defn}
\begin{eg}
A representation of $1$-loop quiver $L(1)$ is a $2$-tuple
$$(V, \; \alpha: V \longrightarrow V)$$
which is equivalent to a (finite dimensional) $\mathbb{C}[t]$-module.
\end{eg}
\begin{remark}
The equivalence appeared in the example can actually be generalized to arbitrary quivers. For a quiver $Q$, we can define the path algebra $\mathbb{C}Q$, and view any $Q$-representation as $\mathbb{C}Q$-module, and vice versa.
\end{remark}

For many constructions, we only care about the data of vector space.
\begin{defn}[$Q$-vector space/Vector space with quiver partition]
Fix a quiver $Q$, a $Q$-vector space is a finite dimensional $\mathbb{C}$-vector space with the direct sum decomposition
$$V= \bigoplus_{i \in Q_0} V_i.$$
The dimension vector of a $Q$-vector space is defined as
$$\dimv V =\left( \dim_{\mathbb{C}} V_i \right)_{i \in Q_0} \subseteq \prod_{i \in Q_0} \mathbb{Z}.$$
\end{defn} 

On the country, given $\dimvec{d} \in \prod_{i \in Q_0} \mathbb{N}_{\geqslant 0}$, we can construct a canonical $Q$-vector space of dimension vector $\dimvec{d}$, as follows:
$$V= \bigoplus_{i \in Q_0} V_i \qquad \text{ with } V_i= \mathbb{C}^{\dimvec{d}_i}.$$

\begin{defn}
The total dimension vector of a $Q$-vector space $V$ is defined as
$$\left| \dimv V  \right|:=\dim_{\mathbb{C}} V.$$
For $\dimvec{d} \in \prod_{i \in Q_0} \mathbb{N}_{\geqslant 0}$, denote $\abdimvec{d}:= \sum_{i \in Q_0} \dimvec{d}_i$.
\end{defn}
\begin{defn}[Space of representations with given dimension vector]
For any quiver $Q$, dimension vector $\dimvec{d}$, fix the canonical $Q$-vector space $V= \bigoplus_{i \in Q_0} V_i$, the space of representations with dimension vector $\dimvec{d}$ is defined as
\begin{equation*}
\begin{aligned}
  \Rep_{\dimvec{d}}(Q)=\;&  \left\{ (V_i,V_a: V_{s(a)} \longrightarrow V_{t(a)} ) \text{ as a representation of $Q$}  \right\} \\ 
  =\;& \bigoplus_{a \in Q_1} \Hom \left(\mathbb{C}^{\dimvec{d}_{s(a)}},\mathbb{C}^{\dimvec{d}_{t(a)}}\right)
\end{aligned}
\end{equation*}

Since we encode the information of vector space in $\dimvec{d}$, $\Rep_{\dimvec{d}}(Q)$ only records the information of linear maps.
\end{defn}

For both $Q$-vector space and $Q$-representations, we can define (complete) flags.

\begin{defn}[Flag with quiver] \label{def:flag_with_quiver}
For a quiver representation $V \in \rep(Q)$, a flag of $V$ is defined as an increasing sequence of subrepresentation of $V$, i.e.,
$$F: 0 \subseteq M_1 \subseteq \ldots \subseteq M_k=V \qquad M_j\in \rep(Q). $$
For a $Q$-vector space $V=\oplus_{i \in Q_0}V_i$, a (quiver-graded) flag of $V$ is defined as an increasing sequence of $Q$-subspace of $V$, i.e.,
$$F: 0 \subseteq M_1 \subseteq \ldots \subseteq M_k=V \qquad M_j=\bigoplus_{i \in Q_0}M_{j,i}. $$
For both $Q$-vector space and $Q$-representation, $F$ is called a complete flag if $k=\dim_{\mathbb{C}} V$ and
$$\dim_{\mathbb{C}} M_j=j \qquad \text{ for any }j \in \{1,\ldots, \abdimvec{d}  \}$$
\end{defn}
For the flag we also have the notation of dimension vector.
\begin{defn}[flag-type dimension vector]
For any flag $F: 0 \subseteq M_1 \subseteq \ldots \subseteq M_k=V$, the dimension vector of $F$ is defined as
$$\ftdimvec{d}=\big(\!\dimv M_j   \big)_{j \in \{1,\ldots,k\}} \subseteq \prod_{\substack{i \in Q_0 \\ j \in \{1,\ldots,k\}}} \mathbb{Z}.$$
$\ftdimvec{d}$ is called a flag-type dimension vector if $\ftdimvec{d}$ is the dimension vector of some complete flag $F$, i.e., \footnote{For convenience, we denote $M_0$ by 0.}
$$\left| \dimv M_{j+1}/M_j \right|=1 \qquad \text{ for any }j \in \{0,\ldots, \abdimvec{d}-1  \}.$$
\end{defn}

\begin{eg}\label{eg:5-case-0}
For quiver $Q: i \longrightarrow i'$, $\dimvec{d}=(3,2)$, the canonical $Q$-vector space of dimension vector $\dimvec{d}$ is
\begin{equation*}
\begin{aligned}
  V=\;& V_i \oplus V_{i'} \\ 
  =\;& \left< v_1,v_2,v_3 \right>_{\mathbb{C}} \oplus \left< v_4,v_5 \right>_{\mathbb{C}}\\ 
\end{aligned}
\end{equation*}
The flag 
$$F: 0 \subseteq \left< v_4 \right>
\subseteq \left< v_4,v_1 \right>
\subseteq \left< v_4,v_1,v_2 \right>
\subseteq \left< v_4,v_1,v_2,v_5 \right>
\subseteq \left< v_4,v_1,v_2,v_5,v_3 \right>=V$$
is a complete flag of $V$, with dimension vector
{
\def\arraystretch{0.8}
$$\ftdimvec{d}= \begin{pmatrix}
3,2\\ 2,2 \\ 2,1 \\ 1,1 \\ 0,1
\end{pmatrix}.$$
}
\end{eg}
\begin{remark}
The flag-type dimension vector $\ftdimvec{d}$ can be viewed as a partition on set $\{1,\ldots, \abdimvec{d} \}$, i.e., a map
$$\ptt: \{1,\ldots, \abdimvec{d}  \} \longrightarrow Q_0$$
such that $\#\ptt^{-1}(i)=\dimvec{d}_i$.\footnote{The partition corresponding to $\ptt$ is$$\{1,\ldots, \abdimvec{d}\}=\bigsqcup_{i \in Q_0}\ptt^{-1}(i).$$} . As an example,
{
\def\arraystretch{0.8}
$$\ftdimvec{d}= \begin{pmatrix}
3,2\\ 2,2 \\ 2,1 \\ 1,1 \\ 0,1
\end{pmatrix} \quad\text{ corresponds to }\quad \{1,2,3,4,5\}= \{2,3,5\} \sqcup \{1,4\}.$$
}
\end{remark}

\section{Symmetric group calculus}

As a reminder, we recall some basic diagrams referring to the elements in $S_n$, and do some calculations by these diagrams. We will also relate cosets with flag-type dimension vectors.

Fix a quiver $Q$ and dimension vector $\dimvec{d}$. Later (Definition \ref{def:absalggp}, \ref{def:relalggp}) we will define 
$$\absgp{W}_{\abdimvec{d}}= S_{\abdimvec{d}} \qquad W_{\dimvec{d}} = \prod_{i \in Q_0} S_{\dimvec{d}_i} \leqslant \absgp{W}_{\abdimvec{d}}$$
For simplicity, we take $Q_0=\{1,\ldots, k\}$, then $W_{\dimvec{d}}= S_{\dimvec{d}_1} \times \cdots \times S_{\dimvec{d}_k}$ embed in  $S_{\abdimvec{d}}$ in the most natural way.

\begin{remark}
We have different ways to express $\ww \in \absgp{W}_{\abdimvec{d}}= S_{\abdimvec{d}}$. For example, take $\abdimvec{d}=5$, $\ww \in S_5$ by
$$\ww(1)=4,\quad \ww(2)=3,\quad \ww(3)=1,\quad \ww(4)=5,\quad \ww(5)=2,$$ 
then
{
\setlength\arraycolsep{1pt}
\renewcommand{\arraystretch}{0.6}
\begin{equation*}
\begin{aligned}
  \ww=\;& (14523)= \begin{pmatrix}
  1\,2\,3\,4\,5\\ 4\,3\,1\,5\,2
  \end{pmatrix} = \parbox[h][][c]{3cm}{\permutation[tkzpic=1]{4,3,1,5,2}}\hspace{-2mm} =\begin{bmatrix}
  &&\scriptstyle 1&&\\
  &&&&\scriptstyle 1\\
  &\scriptstyle 1&&&\\
  \scriptstyle 1&&&&\\
  &&&\scriptstyle 1&
  \end{bmatrix} \\ 
  =\;& (23)(34)(45)(12)(23)(12) = \hspace{0mm} 
  \parbox[h][][c]{3cm}{ \begin{tikzpicture}
   \permutation[
   height=0.2,
   bullb=0,
   floor=5,
   tkzpic=0,
   type=1
   ]{2,1,3,4,5}
   \permutation[
   height=0.2,
   bulla=0,
   bullb=0,
   floor=4,
   tkzpic=0,
   type=0
   ]{1,3,2,4,5}
   \permutation[
   height=0.2,
   bulla=0,
   bullb=0,
   floor=3,
   tkzpic=0,
   type=0
   ]{2,1,3,4,5}
    \permutation[
    height=0.2,
    bulla=0,
    bullb=0,
    floor=2,
    tkzpic=0,
    type=0
    ]{1,2,3,5,4}
   \permutation[
   height=0.2,
   bulla=0,
   bullb=0,
   floor=1,
   tkzpic=0,
   type=0
   ]{1,2,4,3,5}
   \permutation[
   height=0.2,
   bulla=0,
   floor=0,
   tkzpic=0,
   type=-1
   ]{1,3,2,4,5}
   \end{tikzpicture}}
\end{aligned}
\end{equation*}
}

Even though all expressions give us the same amount of information, the diagram presents them more vividly. For example, each intersection of strands corresponds to a simple reflection, so we read from the diagram that $l(\ww)=6$. Readers can also check that
\begin{equation*}
\begin{aligned}
  &  l(\ww s_1)=5,\quad l(\ww s_2)=5,\quad l(\ww s_3)=7,\quad l(\ww s_4)=5,\\ 
  &  l(s_1\ww)=7,\quad l(s_2\ww)=5,\quad l(s_3\ww)=5,\quad l(s_4\ww)=7,\\ 
\end{aligned}
\end{equation*} 
where $s_i:=(i,i+1) \in S_5$ are simple reflections.

\end{remark}

\begin{defn}[Special elements in the Weyl group]
For $i \in \left\{ 1, \ldots , \abdimvec{d}-1 \right\}$, the simple reflection is defined as
$$s_i:=(i,i+1) \in  S_{\abdimvec{d}}.$$
We denote
\begin{equation*}
\begin{aligned}
  \Pi=\;&  \Big\{ s_i \in S_{\abdimvec{d}} \;\Big|\; i \in \left\{ 1, \ldots , \abdimvec{d}-1 \right\} \Big\} \\ 
    \Pi_{\dimvec{d}}=\;&  \Big\{ s_i \in S_{\dimvec{d}_1} \times \cdots \times S_{\dimvec{d}_k} \;\Big|\; i \in \left\{ 1, \ldots , \abdimvec{d}-1 \right\} \Big\} \\ 
    =\;&\left\{ s_1,\ldots, s_{\abdimvec{d}-1} \right\} \smallsetminus \left\{s_{\dimvec{d}_1},s_{\dimvec{d}_1+\dimvec{d}_2},\ldots,s_{\dimvec{d}_1+\cdots+\dimvec{d}_{k-1}} \right\} \\
\end{aligned}
\end{equation*}
to be the set of simple reflections in $\absgp{W}_{\abdimvec{d}}$ and $W_{\dimvec{d}}$, respectively.

We also denote $\ww_{\max} \in \absgp{W}_{\abdimvec{d}}$, $w_{\max} \in W_{\dimvec{d}}$ to be the longest elements in $\absgp{W}_{\abdimvec{d}}$, $W_{\dimvec{d}}$, respectively.
\end{defn}

We discuss about right cosets $W_{\dimvec{d}}\setminus\absgp{W}_{\abdimvec{d}}$ and minimal length coset representatives now.

Multiplying on left by $w\in W_{\dimvec{d}}$ is equivalent to plugging in a diagram representing $w \in W_{\dimvec{d}}$ underneath the original diagram. Therefore, we connect some bottom points by lines, indicating that switching them will cause no trouble. Furthermore, we color different parts to make the following fact more explicitly.

\begin{fact}
Every element $\ww_{\max} \in W_{\dimvec{d}}\setminus\absgp{W}_{\abdimvec{d}}$ corresponds to a partition on set $\left\{ 1, \ldots , \abdimvec{d} \right\}$ (of a given number partition $\dimvec{d}$), which corresponds to a flag-type dimension vector $\ftdimvec{d}$.
\end{fact}

\begin{eg}\label{eg:3-case-0.1}
\begin{equation*}
\begin{aligned}
\parbox[h][][c]{3cm}{
 \begin{tikzpicture}
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
 \end{tikzpicture}
 }
  =\hspace{8mm}& 
\parbox[h][][c]{3cm}{
 \begin{tikzpicture}
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
 \end{tikzpicture}
 } \qquad   \text{ in } \Wd\setminus \WWd \\
 since\hspace{5.7cm}&\hspace{10cm}\\
%\shortintertext{since}
\parbox[h][][c]{3cm}{
 \begin{tikzpicture}
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,2},{3,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,2},{1,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,2},{2,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,2},{4,1},{4,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{4,2},{5,1},{5,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{1,1},{2,1},{3,1}} 
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{1,0},{2,0},{3,0}} 
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{4,1},{5,1}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{4,0},{5,0}}
 \end{tikzpicture}
 }
  =\hspace{8mm}& 
\parbox[h][][c]{3cm}{
 \begin{tikzpicture}
% \vpartition[
% floor=1,
% tkzpic=0,
% type=0
% ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,2},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,2},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,2},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,2},{4,0},{5,0},{4,2}} 
 \end{tikzpicture}
 } \qquad   \text{ in } \WWd \\
 \end{aligned}
 \end{equation*}

This coset corresponds to the partition $\{1,2,3,4,5 \}= \{2,3,5\} \sqcup \{1,4\}$.

\end{eg}

It is easy to see from the diagram that in every coset, there exists an unique element $u \in \absgp{W}_{\abdimvec{d}}$ of minimal length. We collect these minimal length coset representatives as a set, and denote it by $\MinWd$.\footnote{In some references $\MinWd$ is also denoted by $\Shuffled$, since those elements can be thought as ways off riffle shuffling several words together.}

\begin{proposition}
For any $\ww \in \absgp{W}_{\abdimvec{d}}$, exists unique $w \in \Wd$, $u \in \MinWd$ such that $\ww=wu$. 
\end{proposition}
\begin{ex}
For $u \in \MinWd$, $s_i \in \Pi$, show that
\begin{equation*}
\begin{aligned}
us_iu^{-1}\in W_{\dimvec{d}} \quad\Longrightarrow&\quad us_iu^{-1}=s_{u(i)} \in \Pi_{\dimvec{d}},\\
us_iu^{-1}\notin W_{\dimvec{d}} \quad\Longrightarrow&\quad us_i \in \MinWd.
\end{aligned}
\end{equation*}
An example is shown in Table \ref{table:Lie_alg}.
\end{ex}

We finish this section with figures and examples.
% https://q.uiver.app/?q=WzAsOSxbMywwLCJcXE1pbldkIl0sWzMsMSwiV197XFxkaW12ZWN7ZH19XFxzZXRtaW51c1xcYWJzZ3B7V31fe1xcYWJkaW12ZWN7ZH19Il0sWzIsMSwiXFxhYnNncHtXfV97XFxhYmRpbXZlY3tkfX0iXSxbNCwxLCIwIl0sWzEsMSwiV197XFxkaW12ZWN7ZH19Il0sWzAsMSwiMCJdLFs2LDAsInUiXSxbNSwxLCJcXHd3PXd1Il0sWzYsMSwiXFxmdGRpbXZlY3tkfSJdLFswLDEsIlxcY29uZyJdLFswLDIsIiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV0sWzIsMV0sWzEsM10sWzQsMl0sWzUsNF0sWzcsOCwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibWFwcyB0byJ9fX1dLFs2LDgsIiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifX19XV0=
\[\begin{tikzcd}
	&&& \MinWd &&& u \\
	0 & {W_{\dimvec{d}}} & {\absgp{W}_{\abdimvec{d}}} & {W_{\dimvec{d}}\setminus\absgp{W}_{\abdimvec{d}}} & 0 & {\ww=wu} & {\ftdimvec{d}}
	\arrow["\cong", from=1-4, to=2-4]
	\arrow[hook', from=1-4, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-1, to=2-2]
	\arrow[maps to, from=2-6, to=2-7]
	\arrow[maps to, from=1-7, to=2-7]
\end{tikzcd}\]

\begin{eg}\label{eg:5-case-1}
In this table, $\abdimvec{d}=5$, $\dimvec{d}=(3,2)$, typical elements would be
$$\ww = \parbox[h][][c]{3cm}{\permutation[tkzpic=1,type=0]{4,3,1,5,2}} \quad
w =\parbox[h][][c]{3cm}{\permutation[tkzpic=1,type=0]{3,1,2,5,4}} \quad
u =\parbox[h][][c]{3cm}{
 \begin{tikzpicture}
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
 
 \end{tikzpicture}
 } \quad  $$
 {
 
 %https://tex.stackexchange.com/questions/394775/vertical-space-distribution-when-arraystretch-is-increased
\def\arraystretch{2}
 \begin{table}[ht]
 $$
 \begin{array}{l|l|r|c}
 \hline
 \multicolumn{1}{c|}{\text{set}} & \multicolumn{1}{c|}{\text{element}} & \multicolumn{1}{c|}{\text{special element}} & \text{others} \\ \hline
\absgp{W}_{\abdimvec{d}} = S_5 & \ww,x                               &   \ww_{\max}=  \lbox{\parbox[h][][c]{1.5cm}{\permutation[tkzpic=1,type=0,scale=0.5]{5,4,3,2,1}}  }                                      &   \Pi_{\phantom{d}}=\{s_1,s_2,s_3,s_4 \}            \\ \hline
W_{\dimvec{d}} = S_3 \times S_2      & w                                   &     w_{\max}= \lbox{\parbox[h][][c]{1.5cm}{\permutation[tkzpic=1,type=0,scale=0.5]{3,2,1,5,4}}    }                                    &  \Pi_{\dimvec{d}}=\{s_1,s_2,\phantom{s_3,}s_4 \}              \\ \hline
W_{\dimvec{d}}\setminus\absgp{W}_{\abdimvec{d}} \cong (S_3 \times S_2) \setminus S_5 & \ww, \ftdimvec{d}                   &          \parbox[h][][c]{1.6cm}{\parbox[h][][c]{1.5cm}{ \begin{tikzpicture}[scale=0.5]
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
 \end{tikzpicture}} }                                   &    \Compd           \\ \hline
\MinWd =\left\{\parbox[h][][c]{1.5cm}{ \begin{tikzpicture}[scale=0.5]
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
 \end{tikzpicture}}  ,\ldots \right\}  & u                                   &                                       \parbox[h][][c]{1.5cm}{ \begin{tikzpicture}[scale=0.5]
 \vpartition[
 floor=0,
 tkzpic=0,
 type=0
 ]{{5}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{1,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{2,0}}
 \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{3,0}}
 \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
 \end{tikzpicture}}      &   \Shuffled            \\ \hline
 \end{array}
 $$
 \end{table}
 }
 %调整表格。。。大难题
\end{eg}

\begin{eg}\label{eg:3-case-1}
In this table, 
$$\abdimvec{d}=3,\quad \dimvec{d}=(1,2),\qquad \WWd=S_3,\quad \Wd=S_1 \times S_2,\qquad s=(12),\quad t=(23).$$ The columns "order of basis" and "Borel subgroups" will be introduced in Definition \ref{def:special_flags} and Remark \ref{rmk:Borel_difference}.

\begin{table}[ht]
  \vspace{0cm}
    \centering  \includegraphics[width=15cm]{figures/table/table_basic_information.pdf}
      \caption{basic information of $(1,2)$-case}  
      \label{table:smalleg_Weyl}     
        \end{table}
        
\end{eg}
\section{Algebraic group and Lie algebra}
In this section we fix notations of algebraic group and Lie algebras. Later, the algebraic group will act on varieties, and some Lie algebra will serve as tangent spaces.

\begin{setting}\label{set:Qvs}
We fix a quiver $Q$, a dimension vector $\dimvec{d}$ and a $Q$-vector space 
$$V=\bigoplus_{i \in Q_0} V_i \qquad \text{with } V_i=\mathbb{C}^{\dimvec{d}_i}.$$
When a basis of $V$ is needed, we fix a total order on $Q_0$, and denote
$$V=\left< v_1, \ldots v_{\abdimvec{d}} \right> $$
where
$$V_i=\left< v_{f_i+1}, \ldots v_{f_i+\dimvec{d}_i} \right> \qquad f_i= \sum_{i' < i} \dimvec{d}_{i'}.$$
\end{setting}

\subsection{Algebraic group}

\begin{defn}[absolute algebraic groups]\label{def:absalggp}
%The following algebraic groups are not related to the quiver partition of $V$.
We set
$$\absgp{G}_{\abdimvec{d}}:= \GL(V)=\GL_{\abdimvec{d}}(\mathbb{C}),$$
and $\absgp{B}_{\abdimvec{d}}$, $\absgp{T}_{\abdimvec{d}}$, $\absgp{N}_{\abdimvec{d}}$ are corresponding standard Borel, torus and unipotent subgroups.

The Weyl group is
$$\absgp{W}_{\abdimvec{d}}:= N_{\absgp{G}_{\abdimvec{d}}}(\absgp{T}_{\abdimvec{d}})/\absgp{T}_{\abdimvec{d}} \cong S_{\abdimvec{d}}.$$

For $\ww \in \absgp{W}_{\abdimvec{d}}$, we define\footnote{As usual, we abuse the notation of $\ww$ and its lift.}
$$\absgp{B}_{\ww}:= \ww \absgp{B}_{\abdimvec{d}} \ww^{-1}.$$
We will view $\absgp{B}_{\ww}$ as the stabilizer of the flag $F_{\ww}$ with $\absgp{G}_{\abdimvec{d}}$-action.
\end{defn}

We also have a series of algebraic groups compatible with the quiver partition of $V$, and they're more common in this thesis.

\begin{defn}[relative algebraic groups]\label{def:relalggp}

We set
$$G_{\dimvec{d}}:= \bigoplus_{i \in Q_0}\GL(V_i)=\GL_{\dimvec{d}_i}(\mathbb{C}) \subseteq \absgp{G}_{\abdimvec{d}},$$
and $B_{\dimvec{d}}$, $T_{\dimvec{d}}$, $N_{\dimvec{d}}$ are corresponding standard Borel, torus and unipotent subgroups.

The Weyl group is
$$W_{\dimvec{d}}:= N_{G_{\dimvec{d}}}(T_{\dimvec{d}})/T_{\dimvec{d}} \cong \prod_{i \in Q_0}S_{\dimvec{d}_i}.$$

For $\ww=wu \in W_{\dimvec{d}}$, we define
$$B_{\ww}:= w B_{\dimvec{d}} w^{-1}.$$
We will view $B_{\ww}$ as the stabilizer of the flag $F_{\ww}$ with $G_{\dimvec{d}}$-action.
\end{defn}

\begin{remark}\label{rmk:Borel_difference}
Be careful that $B_{\ww} \neq \ww B_{\dimvec{d}} \ww^{-1}$. Actually,
$$B_{\ww}= \ww \absgp{B}_{\abdimvec{d}}\ww^{-1} \cap B_{\dimvec{d}}=wB_{\dimvec{d}}w^{-1}$$
The difference is clearly shown in Table \ref{table:smalleg_Weyl}.
\end{remark}

We also have a series of algebraic groups with subscription as elements in the Weyl group:
\begin{defn}[more algebraic groups]
For $\ww, \ww'' \in \absgp{W}_{\abdimvec{d}}$, define
\begin{equation*}
\begin{aligned}
  N_{\ww}:=\;& R_u(B_{\ww}),  \\ 
  N_{\ww,\ww''}:=\;& N_{\ww} \cap N_{\ww''},  \\ 
  M_{\ww,\ww''}:=\;& N_{\ww}/N_{\ww,\ww''},  \\ 
\end{aligned}
\end{equation*}
where $R_u$ denotes for the unipotent radical.

For $s \in \Pi$ such that $\ww s \ww^{-1} \in W_d$ (i.e., $W_{\dimvec{d}}\ww=W_{\dimvec{d}}\ww s$), define
\begin{equation*}
\begin{aligned}
  P_{\ww,\ww s}:\xlongequal{\ww =wu}\;& w\left( B_{\dimvec{d}} usu^{-1} B_{\dimvec{d}} \cup B_{\dimvec{d}} \right)w^{-1} \\ 
  \xlongequal{\phantom{\ww =wu}}\;&  B_{\ww} \ww s\ww^{-1} B_{\ww} \cup B_{\ww}  \\ 
\end{aligned}
\end{equation*}
\end{defn}
\begin{remark}
One can easily show that $N_{\ww, \ww s}=R_u (P_{\ww, \ww s})$.
\end{remark}
%problems on making short vertical space
%https://tex.stackexchange.com/questions/183562/how-to-reduce-vertical-space-in-matrix?newreg=ca78ba434426423a8be8ce4f1df4548c
%https://tex.stackexchange.com/questions/643384/horizontal-spacing-bmatrix-in-align-environment
%https://tex.stackexchange.com/questions/275725/adjusting-separation-between-matrix-entries
{\setlength\arraycolsep{1pt}
\renewcommand{\arraystretch}{0.6}

%small fonts: use \scriptstyle instead of \scriptsize

%vertical line:
%https://tex.stackexchange.com/questions/33519/vertical-line-in-matrix-using-latexit

\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother
\begin{eg}[Follows Example \ref{eg:5-case-1}] \label{eg:5-case-2}
For $\abdimvec{d}=5$, $\dimvec{d}=(3,2)$, $\ww =\hspace{-3mm} \parbox[h][][c]{2cm}{\permutation[tkzpic=1,type=0,scale=0.5]{4,3,1,5,2}}$\hspace{-7mm}, 
$w =\hspace{-3mm}\parbox[h][][c]{2cm}{\permutation[tkzpic=1,type=0,scale=0.5]{3,1,2,5,4}}$\hspace{-7mm}, $s=s_2$, we compute all the algebraic groups we mentioned:
\begin{equation*}
\begin{aligned}
  &\absgp{G}_{\abdimvec{d}}= \begin{pmatrix}
  * & * & * & * & * \\
  * & * & * & * & * \\
  * & * & * & * & * \\
  * & * & * & * & * \\
  * & * & * & * & * \\
  \end{pmatrix}&
  \absgp{B}_{\abdimvec{d}}=
  \begin{pmatrix}
  * & * & * & * & * \\
   & * & * & * & * \\
   &  & * & * & * \\
   &  &  & * & * \\
   &  &  &  & * \\
  \end{pmatrix}&&
  \absgp{T}_{\abdimvec{d}}=
  \begin{pmatrix}
  * &  &  &  &  \\
   & * &  &  &  \\
   &  & * &  &  \\
   &  &  & * &  \\
   &  &  &  & * \\
  \end{pmatrix}&&
  \absgp{N}_{\abdimvec{d}}=
  \begin{pmatrix}
  \scriptstyle 1 & * & * & * & * \\
   & \scriptstyle 1 & * & * & * \\
   &  & \scriptstyle 1 & * & * \\
   &  &  & \scriptstyle 1 & * \\
   &  &  &  & \scriptstyle 1 \\
  \end{pmatrix}
    \\
  &\absgp{W}_{\abdimvec{d}}\cong S_5&
  \absgp{B}_{\ww}=
   \begin{pmatrix}
  * & * &  &  & * \\
   & * &  &  &  \\
  * & * & * &  & * \\
  * & * & * & * & * \\
   & * &  &  & * \\
  \end{pmatrix}&&
  \absgp{B}_{\ww s}=
     \begin{pmatrix}
    * & * & *  &  & * \\
     & * &  &  &  \\
     & * & * &  & * \\
    * & * & * & * & * \\
     & * &  &  & * \\
    \end{pmatrix}&&
  \\
  &G_{\dimvec{d}}\;=
  \begin{pmatrix}[ccc|cc]
  * & * & * &  &  \\
  * & * & * &  &  \\
  * & * & * &  &  \\
     \hline
   &  &  & * & * \\ 
   &  &  & * & * \\ 
  \end{pmatrix}&
  B_{\dimvec{d}}=
    \begin{pmatrix}[ccc|cc]
    * & * & * &  &  \\
     & * & * &  &  \\
     &  & * &  &  \\
        \hline
     &  &  & * & * \\ 
     &  &  &  & * \\ 
    \end{pmatrix}&&
  T_{\dimvec{d}}=
    \begin{pmatrix}[ccc|cc]
     * &  &  &  &  \\
       & * &  &  &  \\
       &  & * &  &  \\
          \hline
       &  &  & * &  \\
       &  &  &  & * \\
    \end{pmatrix}&&
  N_{\dimvec{d}}=
         \begin{pmatrix}[ccc|cc]
          \scriptstyle 1 & * & * &  &  \\
           & \scriptstyle 1 & * &  &  \\
           &  & \scriptstyle 1 &  &  \\
              \hline
           &  &  & \scriptstyle 1 & * \\ 
           &  &  &  & \scriptstyle 1 \\ 
          \end{pmatrix}  
  \\
&W_{\dimvec{d}}\cong S_3 \times S_2&
  B_{\ww}=
   \begin{pmatrix}[ccc|cc]
  * & * &  &  &  \\
   & * &  &  &  \\
  * & * & * &  &  \\
     \hline
   &  &  & * &  \\
   &  &  & * & * \\
  \end{pmatrix}&&
  B_{\ww s}=
     \begin{pmatrix}[ccc|cc]
  * &  &  &  &  \\
  * & * &  &  &  \\
  * & * & * &  &  \\
     \hline
   &  &  & * &  \\
   &  &  & * & * \\
    \end{pmatrix}&&
  \\
   &N_{\ww}=
    \begin{pmatrix}[ccc|cc]
   \scriptstyle 1 & * &  &  &  \\
    & \scriptstyle 1 &  &  &  \\
   * & * & \scriptstyle 1 &  &  \\
      \hline
    &  &  & \scriptstyle 1 &  \\
    &  &  & * & \scriptstyle 1 \\
   \end{pmatrix}&
   N_{\ww,\ww s}=
      \begin{pmatrix}[ccc|cc]
   \scriptstyle 1 &  &  &  &  \\
    & \scriptstyle 1 &  &  &  \\
   * & * & \scriptstyle 1 &  &  \\
      \hline
    &  &  & \scriptstyle 1 &  \\
    &  &  & * & \scriptstyle 1 \\
     \end{pmatrix}&& 
   M_{\ww,\ww s}=
      \begin{pmatrix}[ccc|cc]
   \scriptstyle 1 & * &  &  &  \\
    & \scriptstyle 1 &  &  &  \\
   \scriptstyle- & \scriptstyle- & \scriptstyle 1 &  &  \\
      \hline
    &  &  & \scriptstyle 1 &  \\
    &  &  & \scriptstyle- & \scriptstyle 1 \\
     \end{pmatrix}&& 
   P_{\ww,\ww s}=
      \begin{pmatrix}[ccc|cc]
   * & * &  &  &  \\
   * & * &  &  &  \\
   * & * & * &  &  \\
   \hline
    &  &  & * &  \\
    &  &  & * & * \\
     \end{pmatrix}
\end{aligned}
\end{equation*}




\end{eg}
}
\subsection{Lie algebra}
For the Lie algebra, we use the corresponding Fraktur-font symbols:
\begin{equation*}
\begin{aligned}
  & \boldsymbol{\mathfrak{g}}_{\abdimvec{d}}, &&\boldsymbol{\mathfrak{b}}_{\abdimvec{d}}, &&\boldsymbol{\mathfrak{t}}_{\abdimvec{d}}, &&\boldsymbol{\mathfrak{n}}_{\abdimvec{d}}, &&\boldsymbol{\mathfrak{b}}_{\ww}  \\
  & \mathfrak{g}_{\dimvec{d}},
  &&\mathfrak{b}_{\dimvec{d}},
  &&\mathfrak{t}_{\dimvec{d}},
  &&\mathfrak{n}_{\dimvec{d}},
  &&\mathfrak{b}_{\ww},\\
  & \mathfrak{n}_{\ww},\hspace{5mm}
  &&\mathfrak{n}_{\ww,\ww''},
  &&\mathfrak{m}_{\ww,\ww''},
  &&\mathfrak{p}_{\ww,\ww s},
  &&\\
\end{aligned}
\end{equation*}

We also have to encode the information of representations as Lie algebra. Notice that
$$\Hom (V_{s(a)},V_{t(a)}) \hookrightarrow \Hom(V,V) \cong \boldsymbol{\mathfrak{g}}_{\abdimvec{d}} \qquad f \longmapsto \iota_{t(a)} \circ f \circ \pi_{s(a)}$$
realizes $\Hom (V_{s(a)},V_{t(a)})$ as a Lie subalgebra of $\boldsymbol{\mathfrak{g}}_{\abdimvec{d}}$, so 
$$  \Rep_{\dimvec{d}}(Q)= \bigoplus_{a \in Q_1} \Hom \left(\mathbb{C}^{\dimvec{d}_{s(a)}},\mathbb{C}^{\dimvec{d}_{t(a)}}\right) \subseteq \bigoplus_{a \in Q_1} \boldsymbol{\mathfrak{g}}_{\abdimvec{d}}.$$
\begin{defn}[Lie algebras connected with representations]
For $\ww \in \absgp{W}_{\abdimvec{d}}$, denote temperately 
$$V_{\ww,j}:= \left< e_{\ww(1)},\ldots e_{\ww(j)} \right> \subseteq V.$$
We define Lie subalgebras of $\Rep_{\dimvec{d}}(Q)$ as follows.
%https://tex.stackexchange.com/questions/352752/align-inside-left-right

$$\mathfrak{r}_{\ww}:=\; \left\{ (f_a)_{a\in Q_1} \in \Rep_{\dimvec{d}}(Q) \;\middle| \;  f_a(V_{\ww,j} \cap V_{s(a)}) \subseteq V_{\ww,j} \text{ for any } j \right\},$$
\begin{equation*}
\begin{aligned}
  \mathfrak{r}_{\ww,\ww''}:=\;& \mathfrak{r}_{\ww} \cap \mathfrak{r}_{\ww''},  \\ 
  \mathfrak{d}_{\ww,\ww''}:=\;& \mathfrak{r}_{\ww}/\mathfrak{r}_{\ww,\ww''},  \\ 
\end{aligned}
\end{equation*}

\end{defn}
\begin{eg}[Follows Example \ref{eg:5-case-2}]\label{eg:5-case-3}
Consider the quiver $\begin{tikzcd}[ampersand replacement=\&]
	\textcolor{red}{\bullet} \& \textcolor{blue}{\bullet} 
	\arrow[from=1-1, to=1-2]
 \end{tikzcd}$, and $u =\parbox[h][][c]{2cm}{
  \begin{tikzpicture}[scale=0.5]
  \vpartition[
  floor=0,
  tkzpic=0,
  type=0
  ]{{5}}
  \tie[color=red,bull=1,bulletie=0.04,style=solid,tieheight=0]{{1},{2},{3}}
  \tie[color=red,bull=1,bulletie=0.04,style=solid]{{2,1},{1,0}}
  \tie[color=red,bull=1,bulletie=0.04,style=solid]{{3,1},{2,0}}
  \tie[color=red,bull=1,bulletie=0.04,style=solid]{{5,1},{3,0}}
  \tie[color=blue,bull=1,bulletie=0.04,style=solid]{{1,1},{4,0},{5,0},{4,1}}
  
  \end{tikzpicture}
  }$\hspace{-7mm}. Table \ref{table:Lie_alg} gives us an example of the shape of these Lie algebras. 
\begin{table}[ht]
  \vspace{0cm}
    \centering  \includegraphics[width=15cm]{figures/table/table_Lie_alg.pdf}
      \caption{examples of Lie algebras}
      \label{table:Lie_alg}        
\end{table}
\end{eg}


\begin{remark}
We also have twisted notations for Lie algebras. For example,
\begin{equation*}
\begin{aligned}
  \underline{\mathfrak{n}}_{\ww,\ww'}=\;& \mathfrak{n}_{\ww,\ww\ww'},
   &&\underline{\mathfrak{m}}_{\ww,\ww'}=\; \mathfrak{m}_{\ww,\ww\ww'},
   &&
   \underline{\mathfrak{p}}_{\ww,s}=\; \mathfrak{p}_{\ww,\ww s}, \\ 
  \underline{\mathfrak{r}}_{\ww,\ww'}=\;& \mathfrak{r}_{\ww,\ww\ww'},
  &&\underline{\mathfrak{d}}_{\ww,\ww'}=\; \mathfrak{d}_{\ww,\ww\ww'}.&&  \\ 
\end{aligned}
\end{equation*}
Another twist happens when we add minus sign as the superscript:
\begin{equation*}
\begin{aligned}
  \boldsymbol{\mathfrak{b}}_{\ww}^{-} =&\boldsymbol{\mathfrak{b}}_{\ww_{\max}\ww},&& \\
  \mathfrak{b}_{\ww}^{-}=&\mathfrak{b}_{w_{\max}\ww}, & 
\mathfrak{n}_{\ww}^{-}=&\mathfrak{b}_{w_{\max}\ww}, \\
  \mathfrak{n}_{\ww,\ww''}^{-}=&\mathfrak{n}_{w_{\max}\ww,w_{\max}\ww''}, & 
\mathfrak{m}_{\ww,\ww''}^{-}=&\mathfrak{m}_{w_{\max}\ww,w_{\max}\ww''}.  \\
\end{aligned}
\end{equation*}
\end{remark}
\section{Typical variety}\label{sec:typical_variety}

In this section, we define nearly all the varieties we care about in the same spirit as Section \ref{sec:inital_case}. Their stratifications and related "Schubert" varieties will be defined in Section \ref{sec:stratification}.

Recall Setting \ref{sec:inital_case} and Definition \ref{def:flag_with_quiver}.
\subsection{Flag variety}
\begin{defn}[Absolute complete flag variety]
The absolute complete flag variety $\mathcal{F}_{\abdimvec{d}}$ is defined as 
\begin{equation*}
\begin{aligned}
  \mathcal{F}_{\abdimvec{d}}=\;& \absgp{G}_{\abdimvec{d}}/\absgp{B}_{\abdimvec{d}} \\ 
    \cong\;&  \left\{ \text{complete flags of } \mathbb{C}^{\abdimvec{d}} \right\} \\ 
      =\;& \left\{ 0 \subseteq M_1 \subseteq M_2 \subseteq \cdots \subseteq M_{\abdimvec{d}} = \mathbb{C}^{\abdimvec{d}} \;\middle|\; \dim M_j =j \right\} \\ 
       \cong\;&  \left\{ \text{Borel subgroups of } \absgp{G}_{\abdimvec{d}} \right\} \\
          =\;& \left\{ g\absgp{B}_{\abdimvec{d}}g^{-1} \;\middle|\; g \in \absgp{G}_{\abdimvec{d}} \right\} \\ 
\end{aligned}
\end{equation*}
Here, $M_i$ can have no $Q$-vector space structure.
\end{defn}

\begin{defn}[complete flag variety with flag-type dimension vector]
For a flag-type dimension vector $\ftdimvec{d}$, the flag variety $\mathcal{F}_{\ftdimvec{d}}$ is defined as
\begin{equation*}
\begin{aligned}
  \mathcal{F}_{\ftdimvec{d}}=\;&  \left\{ \text{complete flags of } V=\bigoplus_{i \in Q_0} V_i \text{ with dimension vector } \ftdimvec{d}\right\} \\ 
      =\;& \left\{ F: 0 \subseteq M_1 \subseteq M_2 \subseteq \cdots \subseteq M_{\abdimvec{d}} = V \;\middle|\; \dimv F =\ftdimvec{d} \phantom{\Big)\!\!\!} \right\}
\end{aligned}
\end{equation*}
\end{defn}

\begin{defn}[Relative complete flag variety]
The relative complete flag variety $\mathcal{F}_{\dimvec{d}}$ is defined as 
\begin{equation*}
\begin{aligned}
  \mathcal{F}_{\dimvec{d}}=\;&  \left\{ \text{complete flags of } V=\bigoplus_{i \in Q_0} V_i \right\} \\ 
      =\;& \left\{ 0 \subseteq M_1 \subseteq M_2 \subseteq \cdots \subseteq M_{\abdimvec{d}} = V \;\middle|\; \left|\dimv M_j \right| =j \phantom{\Big)\!\!\!} \right\}\\
      =\;& \bigsqcup_{\ftdimvec{d}}\mathcal{F}_{\ftdimvec{d}}
\end{aligned}
\end{equation*}
Here, $M_i$ are $Q$-vector spaces.
\end{defn}

\begin{remark}\label{rmk:action_on_flag}\
\begin{enumerate}
\item $\mathcal{F}_{\abdimvec{d}}$, $\mathcal{F}_{\ftdimvec{d}}$ and $\mathcal{F}_{\dimvec{d}}$ are smooth varieties, since
$$\mathcal{F}_{\abdimvec{d}} \cong \GL_{\abdimvec{d}}/B \qquad \mathcal{F}_{\ftdimvec{d}} \cong \prod_{i \in Q_0} \GL_{\dimvec{d}_i}/B$$
are products of usual flag varieties.
\item $\mathcal{F}_{\abdimvec{d}}$ is an $\GL_{\abdimvec{d}}$-variety, while $\mathcal{F}_{\ftdimvec{d}}$, $\mathcal{F}_{\dimvec{d}}$ are $G_{\dimvec{d}}$-varieties. The actions are induced by the actions on the vector space $V$.
\end{enumerate}
\end{remark}

We need to simplify our notations of flags.
\begin{defn}[Special flags]\label{def:special_flags}
For a basis $\{x_1, \ldots ,x_{\abdimvec{d}} \}$, denote the flag
$$F_{\{x_1, \ldots ,x_{\abdimvec{d}} \}} : 0 \subseteq \left<x_1 \right> \subseteq \left<x_1,x_2 \right>\subseteq \cdots \subseteq  \left<x_1,\ldots x_{\abdimvec{d}} \right>=V.$$
\end{defn}
For $g\in \absgp{G}_{\abdimvec{d}}$, $\ww \in \WWd$, define
\begin{equation*}
\begin{aligned}
  F_{\Id}=\;& F_{\{v_1, \ldots ,v_{\abdimvec{d}} \}} \qquad&& \in \mathcal{F}_{\dimvec{d}} \\ 
  F_{g}=\;& gF_{\Id}=F_{\{gv_1, \ldots ,gv_{\abdimvec{d}} \}} \qquad&& \in \mathcal{F}_{\abdimvec{d}} \\ 
  F_{\ww}=\;& \ww F_{\Id}=F_{\{v_{\ww(1)}, \ldots ,v_{\ww(\abdimvec{d})} \}} \qquad&& \in \mathcal{F}_{\dimvec{d}} \\ 
\end{aligned}
\end{equation*}
$F_{\Id}$ is called the \textbf{standard flag} of $V$.

Now we can define flag varieties attached to $\ww \in \WWd$.
\begin{defn}
For $\ww=wu \in \WWd$, define $\mathcal{F}_{\ww}$ as the $G_{\dimvec{d}}$-orbit of $F_{\ww}$. By the orbit-stabilizer theorem,
$$\mathcal{F}_{\ww} \cong G_{\dimvec{d}}/B_{\ww}.$$
We can generalize it a little bit: for $g \in G_{\dimvec{d}}$, $F_{g\ww} \in \mathcal{F}_{\dimvec{d}}$,
$$\mathcal{F}_{g\ww}:=G_{\dimvec{d}} \cdot F_{g\ww} \cong G_{\dimvec{d}}/B_{g\ww}=G_{\dimvec{d}}/gB_{\ww}g^{-1}.$$
\end{defn}
\begin{remark}
$F_{\ww}$ is the preferred base point of $\mathcal{F}_{\ww}$. Ignoring the base point,
$$\mathcal{F}_{\ww}=\mathcal{F}_{u}=\mathcal{F}_{\ftdimvec{d}} \quad \text{ for } \ww=wu \quad \ftdimvec{d}=\Wd \ww.$$
In fact, we are not defining new varieties; we give old varieties new names, so that we can manipulate them more freely.
\end{remark}

Like Section \ref{sec:inital_case}, we also consider the product of two flag varieties. For $g,g',g'' \in \absgp{G}_{\abdimvec{d}}$, $\ww,\ww',\ww'' \in \WWd$, denote
\begin{equation*}
\begin{aligned}
   F_{\Id,\Id}&=(F_{\Id},F_{\Id}) && \\ 
   F_{g,g''}&=(F_{g},F_{g''})\qquad & \underline{F}_{g,g'}&=F_{g,gg'}=(F_{g},F_{gg'})\\
   F_{\ww,\ww''}&=(F_{\ww},F_{\ww''}) & \underline{F}_{\ww,\ww'}&=F_{\ww,\ww\ww'}=(F_{\ww},F_{\ww\ww'})\\  
\end{aligned}
\end{equation*}

Table \ref{table:base_varieties} concludes all varieties we get until now.
\begin{table}[ht]
\centering
\[
\begin{array}{l|c|l|c}
\hline
                                                                                   &\text{base point} &                                                                                                                                                                & \text{base point}   \\ \hline
\mathcal{F}_{\abdimvec{d}} \cong \absgp{G}_{\abdimvec{d}}/\absgp{B}_{\abdimvec{d}} & F_{\Id}    & \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}                                                                                                   & F_{\Id,\Id}  \\ \hline
\mathcal{F}_{\ftdimvec{d}} \cong G_{\dimvec{d}}/B_{\dimvec{d}}                     & F_u        & \mathcal{F}_{\ftdimvec{d}} \times \mathcal{F}_{\ftdimvec{d}'}                                                                                                  & F_{u,u'}     \\ \hline
\mathcal{F}_{\ww} \cong G_{\dimvec{d}}/B_{\ww}                                     & F_{\ww}    & \mathcal{F}_{\ww} \times \mathcal{F}_{\ww'}                                                                                                                    & F_{\ww,\ww'} \\ \hline
\displaystyle\mathcal{F}_{\dimvec{d}}= \bigsqcup_{\ftdimvec{d}}\mathcal{F}_{\ftdimvec{d}}       & -          & \displaystyle\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}} = \bigsqcup_{\ftdimvec{d},\ftdimvec{d}'}\mathcal{F}_{\ftdimvec{d}} \times \mathcal{F}_{\ftdimvec{d}'} & -            \\ \hline
\end{array}
\]
\caption{Base varieties and their preferred base point}
\label{table:base_varieties}
\end{table}

\subsection{Incidence variety}

Now it is time to conclude information about arrows, and construct spaces over varieties in Table \ref{table:base_varieties}.

\begin{defn}[Incidence variety]\label{def:incidence_variety}
For a quiver $Q$ with flag-type dimension vector $\ftdimvec{d}$, define
\begin{equation*}
\begin{aligned}
  \RRep_{\ftdimvec{d}}(Q):=\;& \left\{ (\rho,F) \in \Rep_{\dimvec{d}}(Q) \times \mathcal{F}_{\ftdimvec{d}}  \,\middle|\, \rho(M_j) \subseteq M_j \text{ for any } j \right\} \\
  \RRep_{\dimvec{d}}(Q):=\;& \left\{ (\rho,F) \in \Rep_{\dimvec{d}}(Q) \times \mathcal{F}_{\dimvec{d}}  \,\middle|\, \rho(M_j) \subseteq M_j \text{ for any } j \right\} \\
  =\;& \bigsqcup_{\ftdimvec{d}} \RRep_{\ftdimvec{d}}(Q)
\end{aligned}
\end{equation*}
and $\mu_{\ftdimvec{d}}$, $\pi_{\ftdimvec{d}}$, $\mu_{\dimvec{d}}$, $\pi_{\dimvec{d}}$ to be the natural morphisms from the incidence varieties to $\Rep_{\dimvec{d}}(Q)$ or flag varieties, as follows:

\begin{center}
	\begin{figure}[ht]
		\vspace{0cm}
			\parbox[t]{.5\textwidth}{\centering
			\vspace{0cm}
			\includegraphics[width=7cm]{figures/comm_diagram/incidence_variety_1.pdf}
			}
			\parbox[t]{.5\textwidth}{\centering
			\vspace{0cm}
			\includegraphics[width=7cm]{figures/comm_diagram/incidence_variety_2.pdf}
			}
	\end{figure}
\end{center}

\begin{remark}
For $M \in \Rep_{\dimvec{d}}(Q)$, the \textbf{Springer fiber}
$$\Flag{\ftdimvec{d}}(M):= \mu_{\ftdimvec{d}}^{-1}(M) \cong \pi_{\ftdimvec{d}}\big(\mu_{\ftdimvec{d}}^{-1}(M)\big) \subseteq \mathcal{F}_{\ftdimvec{d}}$$
records the complete flags of subrepresentations of $M$. The partial flag variety version of $\Flag{\ftdimvec{d}}(M)$ will become the key object in the second part.
\end{remark}
\end{defn}
\begin{defn}[Steinberg variety]
For quiver $Q$ with flag-type dimension vectors $\ftdimvec{d}$, $\ftdimvec{d}'$, define 
\begin{equation*}
\begin{aligned}
  \St_{\ftdimvec{d},\ftdimvec{d}'}:=\;& \RRep_{\ftdimvec{d}}(Q) \times_{\Rep_{\dimvec{d}}(Q)} \RRep_{\ftdimvec{d}'}(Q) \\
  \St_{\dimvec{d}}:=\;& \RRep_{\dimvec{d}}(Q) \times_{\Rep_{\dimvec{d}}(Q)} \RRep_{\dimvec{d}}(Q) \\
  =\;& \bigsqcup_{\ftdimvec{d},\ftdimvec{d}'} \St_{\ftdimvec{d},\ftdimvec{d}'}
\end{aligned}
\end{equation*}
$\St_{\dimvec{d}}$ is called the \textbf{Steinberg variety}.
\end{defn}
$\St_{\ftdimvec{d},\ftdimvec{d}'}$ can actually be realized as the incidence variety between $\Rep_{\dimvec{d}}(Q)$ and $\mathcal{F}_{\ftdimvec{d}} \times \mathcal{F}_{\ftdimvec{d}'}$, since
\begin{equation*}
\begin{aligned}
\St_{\ftdimvec{d},\ftdimvec{d}'}=\;& \RRep_{\ftdimvec{d}}(Q) \times_{\Rep_{\dimvec{d}}(Q)} \RRep_{\ftdimvec{d}'}(Q) \\
\subseteq \;& \left( \Rep_{\dimvec{d}}(Q) \times \mathcal{F}_{\ftdimvec{d}}  \right) 
\times_{\Rep_{\dimvec{d}}(Q)}
\left( \Rep_{\dimvec{d}}(Q) \times \mathcal{F}_{\ftdimvec{d}'}  \right) \\
\cong\;& \Rep_{\dimvec{d}}(Q) \times \mathcal{F}_{\ftdimvec{d}} \times \mathcal{F}_{\ftdimvec{d}'}
\end{aligned}
\end{equation*} 
For that reason, we denote $\mu_{\ftdimvec{d},\ftdimvec{d}'}$, $\pi_{\ftdimvec{d},\ftdimvec{d}'}$, $\mu_{\dimvec{d},\dimvec{d}}$, $\pi_{\dimvec{d},\dimvec{d}}$ as natural morphisms from $\St_{\ftdimvec{d},\ftdimvec{d}'}$, $\St_{\dimvec{d}}$ to $\Rep_{\dimvec{d}}(Q)$ or product of flag varieties, as follows:

\begin{center}
	\begin{figure}[ht]
		\vspace{0cm}
			\parbox[t]{.5\textwidth}{\centering
			\vspace{0cm}
			\includegraphics[width=7cm]{figures/comm_diagram/incidence_variety_3.pdf}
			}
			\parbox[t]{.5\textwidth}{\centering
			\vspace{0cm}
			\includegraphics[width=7cm]{figures/comm_diagram/incidence_variety_4.pdf}
			}
	\end{figure}
\end{center}


\begin{remark}[Group actions]\
\begin{enumerate}
\item $\Rep_{\dimvec{d}}(Q)\subseteq \oplus_{a \in Q_1} \boldsymbol{\mathfrak{g}}_{\abdimvec{d}}$ has a natural $G_{\dimvec{d}}$-action, which is induced by the conjugation action of $G_{\dimvec{d}}$ on $\boldsymbol{\mathfrak{g}}_{\abdimvec{d}}$. We have already mentioned the $G_{\dimvec{d}}$-action on $\mathcal{F}_{\ftdimvec{d}}$ and $\mathcal{F}_{\dimvec{d}}$ in Remark \ref{rmk:action_on_flag}. Therefore, by restriction we automatically get $G_{\dimvec{d}}$-actions on $\RRep_{\ftdimvec{d}}(Q)$, $\RRep_{\dimvec{d}}(Q)$, $\St_{\ftdimvec{d},\ftdimvec{d}'}$ and $\St_{\dimvec{d}}$. All the maps we mentioned in Definition \ref{def:incidence_variety} are $G_{\dimvec{d}}$-equivariant.
\item In Section \ref{sec:Cstar_action} we will also view all the varieties as $G_{\dimvec{d}} \times \mathbb{C}^{\times}$-varieties, so we also shortly introduce $\mathbb{C}^{\times}$-action here. View $\Rep_{\dimvec{d}}(Q)$ as a $\mathbb{C}$-vector space, $\mathbb{C}^{\times}$ acts on $\Rep_{\dimvec{d}}(Q)$ by scalar multiplication. For $\mathcal{F}_{\ftdimvec{d}}$ and $\mathcal{F}_{\dimvec{d}}$, $\mathbb{C}^{\times}$ acts trivially, and by restriction we get $\mathbb{C}^{\times}$-actions on $\RRep_{\ftdimvec{d}}(Q)$, $\RRep_{\dimvec{d}}(Q)$, $\St_{\ftdimvec{d},\ftdimvec{d}'}$ and $\St_{\dimvec{d}}$. Also, all the maps we mentioned above are $\mathbb{C}^{\times}$-equivariant.
\item It may worth mentioning that $\mathcal{F}_{\dimvec{d}}$ has an $\WWd$-action which can be extended neither to $\absgp{G}_{\abdimvec{d}}$-action on $\mathcal{F}_{\dimvec{d}}$ nor to $\WWd$-action on $\RRep_{\ftdimvec{d}}(Q)$.

\end{enumerate}
\end{remark}
\section{Stratification and $T$-fixed points}\label{sec:stratification}

Natural defined varieties resemble burr puzzles, they have delicate structures and can be decomposed as relatively easy pieces. In this subsection, we will find stratifications of varieties introduced in Section \ref{sec:typical_variety}, and fix notations of orbits. We will also mention about their $T$-fixed points. These stratifications will give us a basis for the $K$-theory and cohomology theory in Chapter \ref{chap:Ktheory}, while those $T$-fixed points will give us another "basis" in Chapter \ref{chap:localization}.

\subsection{Stratification: flag variety}

We begin with $\mathcal{F}_{\abdimvec{d}}$ and $\mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}$, which is roughly a repetition of Section \ref{sec:inital_case}.

\begin{defn}[Twisted action]
We define the twisted $\absgp{G}_{\abdimvec{d}} \times \absgp{G}_{\abdimvec{d}}$-action on $\mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}$:
$$\absgp{G}_{\abdimvec{d}} \times \absgp{G}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}} \longrightarrow \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}} \qquad \left( g_1,g_2,\underline{F}_{g,g'} \right) \longmapsto \underline{F}_{g_1g,g_2g'}$$
which is the same as original $\absgp{G}_{\abdimvec{d}}$-action when we restrict to $\absgp{G}_{\abdimvec{d}} \times \{\Id \}$-action. Other $G \times G$-actions on $\mathcal{F} \times \mathcal{F}$ are defined in a similar way.
\end{defn}

\begin{defn}[Stratifications of $\mathcal{F}_{\abdimvec{d}}$ and $\mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}$]
For $\ww,\ww' \in \WWd$, we define
\begin{equation*}
\begin{aligned}
  \Vcell_{\ww}=\;& \absgp{B}_{\abdimvec{d}} \cdot F_{\ww} \qquad&& \subseteq \mathcal{F}_{\abdimvec{d}} \\ 
  \VVcell_{\ww,\ww'}=\;& \left(\absgp{B}_{\abdimvec{d}} \times \absgp{B}_{\abdimvec{d}}\right) \cdot \underline{F}_{\ww,\ww'} && \subseteq \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}} \\ 
  \VVcell_{\ww'}=\;& \absgp{G}_{\abdimvec{d}} \cdot \underline{F}_{\Id,\ww'} && \subseteq \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}} \\ 
\end{aligned}
\end{equation*}
as $\absgp{B}_{\abdimvec{d}}$-orbit, $\absgp{B}_{\abdimvec{d}} \times \absgp{B}_{\abdimvec{d}}$-orbit, $\absgp{G}_{\abdimvec{d}}$-orbit of $\mathcal{F}_{\abdimvec{d}}$, $\mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}$, $\mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}$, respectively.
\end{defn}

By Bruhat-decomposition, we are able to show
$$\mathcal{F}_{\abdimvec{d}}= \bigsqcup_{\ww} \Vcell_{\ww} \qquad \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}} = \bigsqcup_{\ww'} \VVcell_{\ww'} = \bigsqcup_{\ww,\ww'} \VVcell_{\ww,\ww'}.$$
We also realize these orbits as quotients of algebraic groups by the orbit-stabilizer theorem, as follows:
\begin{equation*}
\begin{aligned}
  \Vcell_{\ww}\cong\;& \absgp{B}_{\abdimvec{d}} /\left(  \absgp{B}_{\abdimvec{d}} \cap \absgp{B}_{\ww} \right) \qquad&&  \cong \mathbb{A}^{l(\ww)} \\ 
  \VVcell_{\ww,\ww'}\cong\;& \left(\absgp{B}_{\abdimvec{d}} \times \absgp{B}_{\abdimvec{d}}\right) / \left(\absgp{B}_{\abdimvec{d}} \cap \absgp{B}_{\ww} \times \absgp{B}_{\abdimvec{d}} \cap \absgp{B}_{\ww'}\right)&& \cong \mathbb{A}^{l(\ww)+l(\ww')}  \\ 
  \VVcell_{\ww'}\cong\;& \absgp{G}_{\abdimvec{d}} /\left(  \absgp{B}_{\abdimvec{d}} \cap \absgp{B}_{\ww'} \right) && \cong \mathbb{A}^{l(\ww')}\text{-bundle over }\mathcal{F}_{\abdimvec{d}}  \\ 
\end{aligned}
\end{equation*}

Similar stratifications happen for $\mathcal{F}_{u}$ and $\mathcal{F}_{\dimvec{d}}$.

\begin{defn}[Stratifications of $\mathcal{F}_{u}$ and $\mathcal{F}_{u} \times \mathcal{F}_{u'}$]
For $u,u' \in \MinWd$, $w,w' \in \Wd$, we define
\begin{equation*}
\begin{aligned}
  \Omcell_{w}^{u}=\;& B_{\dimvec{d}} \cdot F_{wu} \qquad&& \subseteq \mathcal{F}_{u} \\ 
  \OOmcell_{w,w'}^{u,u'}=\;& \left(B_{\dimvec{d}} \times B_{\dimvec{d}}\right) \cdot \left( F_{wu}, F_{ww'u'} \right)  && \subseteq \mathcal{F}_{u} \times \mathcal{F}_{u'}\\ 
  \OOmcell_{w'}^{u,u'}=\;&  G_{\dimvec{d}} \cdot \left( F_{u}, F_{w'u'} \right) && \subseteq \mathcal{F}_{u} \times \mathcal{F}_{u'} \\ 
\end{aligned}
\end{equation*}
as $B_{\dimvec{d}}$-orbit, $B_{\dimvec{d}} \times B_{\dimvec{d}}$-orbit, $G_{\dimvec{d}}$-orbit of $\mathcal{F}_{u}$, $\mathcal{F}_{u} \times \mathcal{F}_{u'}$, $\mathcal{F}_{u} \times \mathcal{F}_{u'}$, respectively.
\end{defn}

By Bruhat decomposition, we are again able to show
$$\mathcal{F}_{u}= \bigsqcup_{w} \Omcell_{w}^{u} \qquad \mathcal{F}_{u} \times \mathcal{F}_{u'} = \bigsqcup_{w'} \OOmcell_{w'}^{u,u'} = \bigsqcup_{w,w'} \OOmcell_{w,w'}^{u,u'}$$
and
\begin{equation*}
\begin{aligned}
  \Omcell_{w}^{u}\cong\;& B_{\dimvec{d}} /\left(  B_{\dimvec{d}} \cap B_{w} \right) \qquad&&  \cong \mathbb{A}^{l(w)} \\ 
  \OOmcell_{w,w'}^{u,u'}\cong\;& \left(B_{\dimvec{d}} \times B_{\dimvec{d}}\right) / \left(B_{\dimvec{d}} \cap B_{w} \times B_{\dimvec{d}} \cap B_{w'}\right)&& \cong \mathbb{A}^{l(w)+l(w')}  \\ 
  \OOmcell_{w'}^{u,u'}\cong\;& G_{\dimvec{d}} /\left(  B_{\dimvec{d}} \cap B_{w'} \right) && \cong \mathbb{A}^{l(w')}\text{-bundle over }\mathcal{F}_{u}  \\ 
\end{aligned}
\end{equation*}

\begin{defn}[Stratifications of $\mathcal{F}_{\dimvec{d}}$ and $\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}$]
For $\ww,\ww' \in \WWd$, we define
\begin{equation*}
\begin{aligned}
  \Ocell_{\ww}=\;& B_{\dimvec{d}} \cdot F_{\ww} \qquad&&\subseteq \mathcal{F}_{\ww}&& \subseteq \mathcal{F}_{\dimvec{d}} \\ 
  \OOcell_{\ww,\ww'}=\;& \left(B_{\dimvec{d}} \times B_{\dimvec{d}}\right) \cdot \underline{F}_{\ww,\ww'} && \subseteq \mathcal{F}_{\ww} \times \mathcal{F}_{\ww\ww'} && \subseteq \mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}\\ 
  \OOcell_{\ww'}=\;& \bigsqcup_{u} G_{\dimvec{d}} \cdot \underline{F}_{u,\ww'} && \subseteq \bigsqcup_{u}\mathcal{F}_{u} \times \mathcal{F}_{u\ww'}\hspace{-1cm}&& \subseteq \mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}} \\ 
\end{aligned}
\end{equation*}
as $B_{\dimvec{d}}$-orbit, $B_{\dimvec{d}} \times B_{\dimvec{d}}$-orbit, (union of) $G_{\dimvec{d}}$-orbit of $\mathcal{F}_{\dimvec{d}}$, $\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}$, $\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}$, respectively.
\end{defn}
Notice that $\Ocell_{\ww}$, $\OOcell_{\ww,\ww'}$, $\OOcell_{\ww'}$ are preimages of $\Vcell_{\ww}$, $\VVcell_{\ww,\ww'}$, $\VVcell_{\ww'}$ under the maps
$$\mathcal{F}_{\dimvec{d}} \hookrightarrow  \mathcal{F}_{\abdimvec{d}} \qquad \mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}} \hookrightarrow  \mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}.$$
Therefore, 
$$\mathcal{F}_{\dimvec{d}}= \bigsqcup_{\ww} \Ocell_{\ww} \qquad \mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}} = \bigsqcup_{\ww'} \OOcell_{\ww'} = \bigsqcup_{\ww,\ww'} \OOcell_{\ww,\ww'}.$$

%Some stratifications are quite compatible with the connected component of $\mathcal{F}_{\dimvec{d}}$, so we give new names for them.



We still need to care about symbols. For $\ww=wu$, $\ww'=w'u'$, denote $uw'u'=\tilde{w}\tilde{u}$ for $\tilde{w}' \in \Wd$, $\tilde{u} \in \MinWd$, then
$$\underline{F}_{\ww,\ww'}= \left( F_{\ww}, F_{\ww\ww'}  \right)= \left( F_{wu}, F_{wuw'u'}  \right)= \left( F_{wu}, F_{w\tilde{w}\tilde{u}}  \right) \in \mathcal{F}_{u} \times \mathcal{F}_{\tilde{u}}.$$
This incompatibility comes from our twisted $G_{\dimvec{d}} \times G_{\dimvec{d}}$-actions. In particular, denote
$$\OOcell_{\ww'}^{u}:= G_{\dimvec{d}} \cdot \underline{F}_{u,\ww'}\subseteq \mathcal{F}_{u} \times \mathcal{F}_{\tilde{u}},$$
we have $\OOcell_{\ww'}=\sqcup_{u} \OOcell_{\ww'}^{u}$ and identifications
\begin{equation}\label{eq:identification}
\Ocell_{\ww}=\Omcell_{w}^{u} \qquad \OOcell_{\ww,\ww'}=\OOmcell_{w,\tilde{w}}^{u,\tilde{u}} \qquad \OOcell_{\ww'}^{u}=\OOmcell_{\tilde{w}}^{u,\tilde{u}}.\tag{$\star$}
\end{equation}

We can also describe the closure of orbits, for example,
\begin{equation*}
  \overline{\Omcell}_{w}^{u}= \bigsqcup_{x\leq w}\Omcell_{x}^{u}  \qquad
  \overline{\OOmcell}_{w,w'}^{u,u'}=\bigsqcup_{x \leq w, x'\leq w'} \OOmcell_{x,x'}^{u,u'} \qquad
  \overline{\OOmcell}_{w'}^{u,u'}=\bigsqcup_{x'\leq w'} \OOmcell_{x'}^{u,u'} \\ 
\end{equation*}
Especially, for any $s \in \Pi_{\dimvec{d}}$, $u,u' \in \MinWd$, we have
$$\overline{\OOmcell}_{s}^{u,u'} = \OOmcell_{s}^{u,u'} \sqcup \OOmcell_{\Id}^{u,u'} \cong G_{\dimvec{d}} \times^{B_{\dimvec{d}}} \left( P_{\Id,s} / B_{\dimvec{d}} \right)$$
when we work over base point $F_{u,u'}$. If we work over different base points, we will get different isomorphisms, as follows:
\begin{equation*}
\begin{aligned}
 \overline{\OOmcell}_{s}^{u,u'} = \OOmcell_{\Id}^{u,u'}\sqcup \OOmcell_{s}^{u,u'} \cong\;& 
  G_{\dimvec{d}} /(B_w \cap B_{ws} ) &&\sqcup G_{\dimvec{d}}/B_w \\ 
  \cong\;&  G_{\dimvec{d}} \times^{B_w} \big(B_w/(B_w \cap B_{ws})\big)\hspace{-0.4cm} &&\sqcup G_{\dimvec{d}} \times^{B_w} (B_w/B_w) \\ 
  \cong\;& G_{\dimvec{d}} \times^{B_w} (B_w sB_w/B_w) &&\sqcup G_{\dimvec{d}} \times^{B_w} (B_w/B_w)  \\ 
  \cong\;& G_{\dimvec{d}} \times^{B_w} (\underline{P}_{w,s}/B_w)&& \qquad \text{ base point }F_{wu,wu'}\\ 
  \cong\;& G_{\dimvec{d}} \times^{B_w} (\underline{P}_{w,s}/B_{ws})&& \qquad \text{ base point }F_{wu,wsu'}\\ 
\end{aligned}
\end{equation*}

Closures of $\OOcell$-cells are obtained by identifications \eqref{eq:identification}. To illustrate it, we compute $\overline{\OOcell}_s$ by hand. Let $\ww'=s, us=\tilde{w}\tilde{u}$,
 
\begin{equation*}
\begin{aligned}
 \overline{\OOcell}_{s} = \;&\bigsqcup_u \overline{\OOcell}_{s}^{u} = \bigsqcup_u \overline{\OOmcell}_{\tilde{w}}^{u,\tilde{u}}\\
 =\;& \left(\bigsqcup_{u:usu^{-1} \in \Wd} \overline{\OOmcell}_{usu^{-1}}^{u,u}\right) \sqcup \left(\bigsqcup_{u:usu^{-1} \notin \Wd} \overline{\OOmcell}_{\Id}^{u,us}\right)\\
 =\;& \left(\bigsqcup_{u:usu^{-1} \in \Wd} \OOmcell_{usu^{-1}}^{u,u}\right) \sqcup \left(\bigsqcup_{u:usu^{-1} \notin \Wd} \OOmcell_{\Id}^{u,us}\right) \sqcup \left(\bigsqcup_{u:usu^{-1} \in \Wd} \OOmcell_{\Id}^{u,u}\right)\\
 =\;&\OOcell_{s} \sqcup \left(\bigsqcup_{u:usu^{-1} \in \Wd} \OOcell_{\Id}^{u}\right)
\end{aligned}
\end{equation*}

We restrict the result of $\overline{\OOmcell}_{s}^{u,u'}$ to $\overline{\OOcell}_{s}^{u}$ in Lemma \ref{lem:iso_of_orbits}.

\begin{lemma}\label{lem:iso_of_orbits}
For $\ww=wu \in \WWd$, $s\in \Pi$ such that $\ww s \ww^{-1} \in \Wd$, we have isomorphisms of $G_{\dimvec{d}}$-varieties
\begin{equation*}
\begin{aligned}
& G_{\dimvec{d}} \times^{B_{\ww}} (\underline{P}_{\ww,s}/B_{\ww}) \longrightarrow \overline{\OOcell}_{s}^{u} \qquad && (g,p) \longmapsto (g \cdot F_{\ww}, gp \cdot F_{\ww})\\
& G_{\dimvec{d}} \times^{B_{\ww}} (\underline{P}_{\ww,s}/B_{\ww s}) \longrightarrow \overline{\OOcell}_{s}^{u} \qquad && (g,p) \longmapsto (g \cdot F_{\ww}, gp \cdot F_{\ww s})\\
\end{aligned}
\end{equation*}
\end{lemma}
\begin{proof}
Notice that when $\ww s \ww^{-1} \in \Wd$, $\OOcell_{s}^{u}=\OOmcell_{usu^{-1}}^{u,u}$. Therefore, 
\begin{equation*}
\begin{aligned}
 \overline{\OOcell}_{s}^{u}=\overline{\OOmcell}_{usu^{-1}}^{u,u} \cong\;& 
 \begin{cases}
 G_{\dimvec{d}} \times^{B_w} (\underline{P}_{w,usu^{-1}}/B_w) & \text{ base point }F_{wu,wu} \\
 G_{\dimvec{d}} \times^{B_w} (\underline{P}_{w,usu^{-1}}/B_{wusu^{-1}}) & \text{ base point }F_{wu,wus} 
 \end{cases} \\ 
  \cong\;& 
  \begin{cases}
  G_{\dimvec{d}} \times^{B_{\ww}} (\underline{P}_{\ww,s}/B_{\ww}) & \qquad\text{ base point }F_{\ww,\ww} \\
  G_{\dimvec{d}} \times^{B_{\ww}} (\underline{P}_{\ww,s}/B_{\ww s}) & \qquad\text{ base point }F_{\ww,\ww s} 
  \end{cases} \\ 
\end{aligned}
\end{equation*}
\\[-2\baselineskip]
\end{proof}





After so many notations are introduced rapidly, an enlightening example is needed here.
\begin{eg}[Follows Example \ref{eg:3-case-1}]\label{eg:3-case-2}
Here, $\WWd=S_3$, $\Wd=S_1 \times S_2$,
$$\ww=ts=t \cdot s, \qquad \ww'=s=\Id \cdot s,\qquad \ww\ww'=t=t \cdot \Id.$$

$\mathcal{F}_{\dimvec{d}}$ has $3$ connected components, each of them has $2$ $B_{\dimvec{d}}$-orbits;

 $\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}$ has $9$ connected components, each of them has $4$ $B_{\dimvec{d}} \times B_{\dimvec{d}}$-orbits.
\begin{table}[ht]
  \vspace{0cm}
    \centering  \includegraphics[width=12.8cm]{figures/table/table_2.pdf}
        \caption{stratifications of $\mathcal{F}_{\dimvec{d}}\times \mathcal{F}_{\dimvec{d}}$}
        \label{table:stratifications_of_FdFd}
\end{table}
We have given every orbit a name, and other spaces are finite union of these orbits. For example,
\begin{equation*}
\begin{aligned}
  \OOcell_{ts,s}=\;& \OOmcell_{t,\Id}^{s,\Id} \\ 
  \OOcell_{s}^{s}=\;& \OOmcell_{\Id}^{s,\Id} = \OOmcell_{\Id,\Id}^{s,\Id} \sqcup \OOmcell_{t,\Id}^{s,\Id} \\ 
  \OOcell_{s}=\;& \OOcell_{s}^{s} \sqcup \OOcell_{s}^{\Id} \sqcup \OOcell_{s}^{st} \\   
  =\;& \OOcell_{s}^{s} \sqcup \OOcell_{s}^{\Id} \sqcup \OOcell_{s}^{st} \\  
  =\;& \OOmcell_{\Id}^{s,\Id} \sqcup \OOmcell_{\Id}^{\Id,s} \sqcup \OOmcell_{\Id}^{st,st}
   \\  
  =\;& \OOmcell_{\Id,\Id}^{s,\Id} \sqcup \OOmcell_{t,\Id}^{s,\Id} \sqcup \OOmcell_{\Id,\Id}^{\Id,s} \sqcup  \OOmcell_{t,\Id}^{\Id,s} \sqcup \OOmcell_{\Id,\Id}^{st,st} \sqcup \OOmcell_{t,\Id}^{st,st}
   \\  
\end{aligned}
\end{equation*}
Their closures are also clear from the table, for example, 
$$\overline{\OOcell}_s=\OOcell_{s} \sqcup \OOmcell_{\Id}^{st,st}$$
contains $8$ $B_{\dimvec{d}} \times B_{\dimvec{d}}$-orbits.
\end{eg}


\subsection{Stratification: incidence variety}
Now comes the stratifications of incidence varieties. Those stratifications are produced by taking the preimage of stratifications on base spaces. They are relatively easy to obtain, while their closures are quite difficult to analyze.

\begin{defn}[Stratifications of incidence varieties]
For $\ww=wu$, $\ww'=w'u' \in \WWd$, denote $uwu' =\tilde{w}\tilde{u}$, $\ftdimvec{d}=\Wd u$, $\ftdimvec{d}'=\Wd u'$, $\widetilde{\ftdimvec{d}}=\Wd \tilde{u}$, we define
\begin{equation*}
\begin{aligned}
  \preimage{\Omcell}_{w}^{u}:=\;& \pi_{\ftdimvec{d}}^{-1}(\Omcell_{w}^{u})&& \subseteq \RRep_{\ftdimvec{d}}(Q) \\ 
  \preimage{\OOmcell}_{w,w'}^{u,u'}:=\;& \pi_{\ftdimvec{d},\ftdimvec{d}'}^{-1}(\OOmcell_{w,w'}^{u,u'})&& \subseteq \St_{\ftdimvec{d},\ftdimvec{d}'} \\ 
  \preimage{\OOmcell}_{w'}^{u,u'}:=\;& \pi_{\ftdimvec{d},\ftdimvec{d}'}^{-1}(\OOmcell_{w'}^{u,u'})&& \subseteq \St_{\ftdimvec{d},\ftdimvec{d}'} \\[3mm]
  \preimage{\OOcell}_{\ww'}^{u}:=\;& \pi_{\ftdimvec{d},\widetilde{\ftdimvec{d}}}^{-1}(\OOcell_{\ww'}^{u}) = \preimage{\OOmcell}_{\tilde{w}}^{u,\tilde{u}}\hspace{1cm}&& \subseteq \St_{\ftdimvec{d},\widetilde{\ftdimvec{d}}}  \\[3mm]
  \preimage{\Ocell}_{\ww}:=\;& \pi_{\dimvec{d}}^{-1}(\Ocell_{\ww})&& \subseteq \RRep_{\dimvec{d}}(Q) \\ 
  \preimage{\OOcell}_{\ww,\ww'}:=\;& \pi_{\dimvec{d},\dimvec{d}'}^{-1}(\OOcell_{\ww,\ww'})&& \subseteq \St_{\dimvec{d}} \\ 
  \preimage{\OOcell}_{\ww'}:=\;& \pi_{\dimvec{d},\dimvec{d}'}^{-1}(\OOcell_{\ww'})&& \subseteq \St_{\dimvec{d}} \\ 
\end{aligned}
\end{equation*}
\end{defn}


It is not hard to see that they are stratifications:
\begin{equation*}
\begin{aligned}
  \RRep_{\ftdimvec{d}}(Q)=\;& \bigsqcup_{\ww} \preimage{\Omcell}_{w}^{u} \qquad &  \St_{\ftdimvec{d},\ftdimvec{d}'} =\;& \bigsqcup_{w} \preimage{\OOmcell}_{w'}^{u,u'} = \bigsqcup_{w,w'} \preimage{\OOmcell}_{w,w'}^{u,u'}  \\
  \RRep_{\dimvec{d}}(Q)=\;& \bigsqcup_{\ww} \preimage{\Ocell}_{\ww} \qquad &  \St_{\dimvec{d}} =\;& \bigsqcup_{\ww'} \preimage{\OOcell}_{\ww'} = \bigsqcup_{\ww,\ww'} \preimage{\OOcell}_{\ww,\ww'}  \\
\end{aligned}
\end{equation*}

\begin{proposition}\label{prop:strataffine}
Those stratifications are affine spaces over corresponding base spaces. To be precise,
\begin{equation*}
\begin{aligned}
  \preimage{\Omcell}_{w}^{u}=\;& \mathfrak{r}_{wu}\text{-bundle over }\Omcell_{w}^{u}  \\ 
  \preimage{\OOmcell}_{w,w'}^{u,u'}=\;&\mathfrak{r}_{wu,ww'u'}\text{-bundle over }\OOmcell_{w,w'}^{u,u'} \\ 
  \preimage{\OOmcell}_{w'}^{u,u'}=\;&\mathfrak{r}_{u,w'u'}\text{-bundle over }\OOmcell_{w'}^{u,u'} \\[3mm]
  \preimage{\OOcell}_{\ww'}^{u}=\;&\underline{\mathfrak{r}}_{u,\ww'}\text{-bundle over }\OOcell_{\ww'}^{u}  \\[3mm]
  \preimage{\Ocell}_{\ww}=\;&\mathfrak{r}_{\ww}\text{-bundle over }\Ocell_{\ww} \\ 
  \preimage{\OOcell}_{\ww,\ww'}=\;&\underline{\mathfrak{r}}_{\ww,\ww'}\text{-bundle over }\OOcell_{\ww,\ww'} \\ 
  \preimage{\OOcell}_{\ww'}=\;&\underline{\mathfrak{r}}_{\Id,\ww'}\text{-bundle over }\OOcell_{\ww'} \\ 
\end{aligned}
\end{equation*}
\end{proposition}

\begin{proof}
The fibers are all computed over the preferred base point. The group action induces the isomorphism between different fibers, and lift affine local charts on base space (viewed as group quotient) to the local charts of fiber bundles. 
\end{proof}

We will frequently use closures of some stratifications, so we give them names.

\begin{defn}
We define
\begin{equation*}
\begin{aligned}
  \St_{w'}^{u,u'}:=\;& \overline{\preimage{\OOmcell}}_{w'}^{u,u'} && \subseteq \hspace{7mm}\St^{u,u'}:= \St_{\ftdimvec{d},\ftdimvec{d}'}, \\
  \St_{\ww'}:=\;& \overline{\preimage{\OOcell}}_{\ww'} && \subseteq \phantom{\hspace{7mm} \St^{u,u'}:=}\St_{\dimvec{d}}.
\end{aligned}
\end{equation*}
\end{defn}

\begin{proposition}[Properties of the closure]
$\St_{\ww'}$ is a Zarisky-locally trivial cone bundle over $\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}$. To be precise, under the map
$$\pi_{\dimvec{d},\dimvec{d},\ww'}: \St_{\ww'} \longrightarrow \mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}},$$
for any $x,x' \in \WWd$, $\pi_{\dimvec{d},\dimvec{d},\ww'}^{-1}(\OOcell_{x,x'})$ is a trivial fiber bundle over $\OOcell_{x,x'}$, whose fibers are cones.
\end{proposition}
I have no idea when $\St_{\ww'}$ is a Zarisky-locally trivial vector bundle. Let us see when we need this fact.

\begin{remark}
Notice that
\begin{equation*}
\begin{aligned}
  \St_{w'}^{u,u'}:=\;& \overline{\preimage{\OOmcell}}_{w'}^{u,u'} && \subseteq \hspace{7mm}\preimage{\overline{\OOmcell}}_{w'}^{u,u'}:= \pi_{\ftdimvec{d},\ftdimvec{d}'}^{-1}\left( \overline{\OOmcell}_{w'}^{u,u'} \right), \\
  \St_{\ww'}:=\;& \overline{\preimage{\OOcell}}_{\ww'} && \subseteq \hspace{7mm} \preimage{\overline{\OOcell}}_{\ww'} :=\pi_{\dimvec{d},\dimvec{d}}^{-1}\left( \overline{\OOcell}_{\ww'} \right).
\end{aligned}
\end{equation*}
Even though these inclusions are usually not equalities, we can still say something when the length of $w'$ or $\ww'$ is small. For example,
\begin{equation*}
\begin{aligned}
&\St_{\Id}^{u,u'}=\preimage{\OOmcell}_{\Id}^{u,u'} \\ 
&\St_{\Id}=\preimage{\OOcell}_{\Id}\\
\preimage{\OOmcell}_{s}^{u,u'}\sqcup \OOmcell_{\Id}^{u,u'} \subseteq &\St_{s}^{u,u'} \subseteq \preimage{\OOmcell}_{s}^{u,u'}\sqcup \preimage{\OOmcell}_{\Id}^{u,u'} \qquad &(s \in \Pi_{\dimvec{d}})\\
 \preimage{\OOcell}_{s} \sqcup \left(\bigsqcup_{u:usu^{-1} \in \Wd}\OOcell_{\Id}^{u}\right) \subseteq& \St_{s} \subseteq \preimage{\OOcell}_{s} \sqcup \left(\bigsqcup_{u:usu^{-1} \in \Wd}\preimage{\OOcell}_{\Id}^{u}\right) \qquad &(s \in \Pi_{\phantom{d}})
\end{aligned}
\end{equation*}

I have no idea if we have any accurate description for $\St_{s}^{u,u'}$ and $\St_{s}$.

We end this subsection by Table \ref{table:orbit}:
\begin{table}[ht]
  \vspace{0cm}
    \centering  \includegraphics[width=15cm]{figures/table/table_orbit.pdf}
      \caption{stratifications of typical varieties}
      \label{table:orbit}        
\end{table}
\end{remark}
\subsection{$T$-fixed points}

Compare with stratifications, $T$-fixed points are easy to compute and have clear structures. Somewhat surprisingly, these $T$-fixed points encode most information of varieties.

Recall that the $T$-fixed points of a complete flag variety $\mathcal{F}$ are exactly those coordinate flags $\left\{ F_w \,\middle|\, w \in W \right\}$. For absolute or relative flag varieties, we have similar results:
$$\mathcal{F}_{\abdimvec{d}}^{\absgp{T}_{\abdimvec{d}}} = \mathcal{F}_{\dimvec{d}}^{T_{\dimvec{d}}}= \left\{ F_{\ww} \,\middle|\, \ww \in \WWd \right\} \qquad \mathcal{F}_u^{T_{\dimvec{d}}} = \left\{ F_{wu} \,\middle|\, w \in \Wd \right\}$$ 
For $\Rep_{\dimvec{d}}(Q)$, we get
$$\big(\!\Rep_{\dimvec{d}}(Q) \big)^{T_{\dimvec{d}}} = \bigoplus_{a \in Q_1} \bigg( \Hom \left(\mathbb{C}^{\dimvec{d}_{s(a)}},\mathbb{C}^{\dimvec{d}_{t(a)}}\right) \bigg)^{T_{\dimvec{d}}} =\{ \rho_0 \}$$
where $\rho_0$ is the zero representation in $\Rep_{\dimvec{d}}(Q)$.

Combining these two results, one can easily describe $T$-fixed points of varieties constructed over them:
\begin{equation*}
\begin{aligned}
  \left(\mathcal{F}_{\abdimvec{d}} \times \mathcal{F}_{\abdimvec{d}}\right)^{\absgp{T}_{\abdimvec{d}}}=\;& \left\{  (F_{\ww},F_{\ww'}) \,\middle|\,  \ww,\ww' \in \WWd  \right\} \\ 
  \left(\mathcal{F}_{u} \times \mathcal{F}_{u'}\right)^{T_{\dimvec{d}}}=\;&  \left\{  (F_{wu},F_{w'u'}) \,\middle|\,  w,w' \in \Wd  \right\} \\ 
  \left(\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}\right)^{T_{\dimvec{d}}}=\;&  \left\{  (F_{\ww},F_{\ww'}) \,\middle|\,  \ww,\ww' \in \WWd  \right\} \\ 
  \left(\RRep_{\ftdimvec{d}}(Q)\right)^{T_{\dimvec{d}}}=\;& \left\{  (\rho_0,F_{wu}) \,\middle|\,  w \in \Wd  \right\} \\ 
  \left(\RRep_{\dimvec{d}}(Q)\right)^{T_{\dimvec{d}}}=\;& \left\{  (\rho_0,F_{\ww}) \,\middle|\,  \ww \in \WWd  \right\} \\ 
  \left(\St_{\ftdimvec{d},\ftdimvec{d}'}\right)^{T_{\dimvec{d}}}=\;&  \left\{  (\rho_0,F_{wu},F_{w'u'}) \,\middle|\,  w,w' \in \Wd  \right\}\\ 
  \left(\St_{\dimvec{d}}\right)^{T_{\dimvec{d}}}=\;& \left\{  (\rho_0,F_{\ww},F_{\ww'}) \,\middle|\,  \ww,\ww' \in \WWd  \right\} \\ 
\end{aligned}
\end{equation*}
Notice that, each $B_{\dimvec{d}} \times B_{\dimvec{d}}$-orbit of $\mathcal{F}_{\dimvec{d}} \times \mathcal{F}_{\dimvec{d}}$ contains exactly one $T_{\dimvec{d}}$-fixed point. Also, all the $T$-fixed points lie in the zero sections. By this reason, we can compute more:
\begin{equation*}
\begin{aligned}
\left(\St_{\Id}^{u,u'}\right)^{T_{\dimvec{d}}}=\;&  \left\{  (\rho_0,F_{wu},F_{wu'}) \,\middle|\,  w \in \Wd  \right\}\\ 
\left(\St_{\Id}\right)^{T_{\dimvec{d}}}=\;&  \left\{  (\rho_0,F_{\ww},F_{\ww}) \,\middle|\,  \ww \in \WWd  \right\}\\
\left(\St_{s}^{u,u'}\right)^{T_{\dimvec{d}}} =\;&  \left\{  (\rho_0,F_{wu},F_{wsu'}) \,\middle|\,  w \in \Wd  \right\} \sqcup \left\{  (\rho_0,F_{wu},F_{wu'}) \,\middle|\,  w \in \Wd  \right\}\\
 \left(\St_{s}\right)^{T_{\dimvec{d}}} =\;&  \left\{  (\rho_0,F_{\ww},F_{\ww s}) \,\middle|\,  \ww \in \WWd  \right\} \sqcup  \left\{  (\rho_0,F_{\ww},F_{\ww}) \,\middle|\,  \ww \in \WWd, \ww s \ww^{-1} \in \Wd  \right\}\\
\end{aligned}
\end{equation*}

With huge effort, finally we fixed all the symbols and understand those typical varieties in detail.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{$K$-theory and cohomology theory}\label{chap:Ktheory}

From my humble point of view, there is no easy cohomology theory, in a sense that key properties are usually hard to prove. On the other hand, plenty of examples can be quickly computed once we grasp some properties and use them in black boxes. Therefore, we won't prove any properties we stated. We have no choice but to do so, for the restricted space and time.

The main reference for the $K$-theory is \cite[Chapter 5]{chriss1997representation}. 
{
%I don't know how to fix the problem where the latter $$$$ does not work.
\makeatletter
\g@addto@macro{\item}{%
  \abovedisplayskip=0ex
  \belowdisplayskip=0ex}
\makeatother
\begin{setting}
Throughout abstract results of $K$-theory, we use the following notations:
\begin{itemize}
\setlength\itemsep{-2mm}
\item $G$ stands for a linear algebraic group, i.e., a closed subgroup of $\GL_n(\mathbb{C})$. \footnote{The closed embedding $G \hookrightarrow \GL_n(\mathbb{C})$ is not considered as the data of $G$.} Denote
$m: G \times G \longrightarrow G$
as the multiplication map of $G$.
\item $X$ is a variety over $\mathbb{C}$, i.e., a reduced, separated scheme of finite type over $\mathbb{C}$. We assume $X$ to be quasi-projective.
\item 
Usually, $X$ is equipped with an algebraic $G$-action (which is compatible with the variety structure of $G$ and $X$), then we say that $X$ is a $G$-variety. In that case, we will denote 
$\alpha: G \times X \longrightarrow X$
as the $G$-action map.
\item $\mathcal{F}$ is usually a sheaf on $X$, which is not flag variety $\GL_n/B$.
\end{itemize}
\end{setting}
}
\section{Definitions and initial examples}
We give definition for $K$-theory, which is lengthy already. Roughly speaking, a $G$-equivariant coherent sheaf over $X$ is a sheaf $\mathcal{F} \in \Coh(X)$ equipped with $G$-action which is compatible with the $G$-action on $X$, and $K$-theory is the Grothendieck group of $G$-equivariant coherent sheaves over $X$.

\begin{defn}[{G-equivariant sheaf, \cite[Definition 5.1.6]{chriss1997representation}}]
For a $G$-variety $X$, denote $p_i^{jk}, p_i:=p_i^{123}, p_{ij}:=p_{ij}^{123}$ as projections onto some factors, as follows.\footnote{Be careful, under this convention, the projection map $p_3^{23}=p_3^{13}: G \times X \longrightarrow X$ has subscription $3$, and $p_2$ means the projection from $G \times G \times X$ to the second $G$. This convention is different with notations in \cite[5.1]{chriss1997representation}.}
% https://q.uiver.app/?q=WzAsNyxbMiwwLCJHIFxcdGltZXMgRyBcXHRpbWVzIFgiXSxbMSwxLCJHIFxcdGltZXMgRyJdLFszLDEsIkcgXFx0aW1lcyBYIl0sWzUsMSwiRyBcXHRpbWVzIFgiXSxbNCwyLCJYIl0sWzIsMiwiRyJdLFswLDIsIkciXSxbMSw2LCJwXzFeezEyfSIsMl0sWzAsMSwicF97MTJ9IiwyXSxbMCwyLCJwX3syM30iXSxbMiw0LCJwXzNeezIzfSJdLFsxLDUsInBfMl57MTJ9Il0sWzIsNSwicF8yXnsyM30iLDJdLFszLDQsInBfM157MTN9IiwwLHsibGFiZWxfcG9zaXRpb24iOjMwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMyw2LCJwXzFeezEzfSIsMix7ImxhYmVsX3Bvc2l0aW9uIjoyMCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMywicF97MTN9IiwwLHsiY3VydmUiOi0yfV1d
\[\begin{tikzcd}[column sep={1.5cm,between origins}]
	&& {G \times G \times X} &&&[2cm]\\
	& {G \times G} && {G \times X} && {G \times X} \\
	G && G && X &
	\arrow["{p_1^{12}}"', from=2-2, to=3-1]
	\arrow["{p_{12}}"', from=1-3, to=2-2]
	\arrow["{p_{23}}", from=1-3, to=2-4]
	\arrow["{p_3^{23}}", from=2-4, to=3-5]
	\arrow["{p_2^{12}}", from=2-2, to=3-3]
	\arrow["{p_2^{23}}"', from=2-4, to=3-3]
	\arrow["{p_3^{13}}"{pos=0.3}, dashed, from=2-6, to=3-5]
	\arrow["{p_1^{13}}"'{pos=0.2}, dashed, from=2-6, to=3-1]
	\arrow["{p_{13}}", curve={height=-12pt}, from=1-3, to=2-6]
\end{tikzcd}\]
We have morphisms
% https://q.uiver.app/?q=WzAsMyxbMSwwLCJHIFxcdGltZXMgWCJdLFswLDAsIkcgXFx0aW1lcyBYIFxcdGltZXMgWCJdLFsyLDAsIlgiXSxbMCwyLCJcXGFscGhhIiwwLHsib2Zmc2V0IjotMn1dLFswLDIsInBfM157MjN9PXBfM157MTN9IiwwLHsib2Zmc2V0IjoyfV0sWzEsMCwiXFxJZF9HIFxcdGltZXMgXFxhbHBoYSJdLFsxLDAsIm0gXFx0aW1lcyBcXElkX1giLDAseyJvZmZzZXQiOi00fV0sWzEsMCwicF97MjN9IiwwLHsib2Zmc2V0Ijo0fV1d
\[\begin{tikzcd}[column sep=huge]
	{G \times G \times X} & {G \times X} & X
	\arrow["{p_3^{23}=p_3^{13}}", shift left=3, from=1-2, to=1-3]
	\arrow["\alpha", shift right=3, from=1-2, to=1-3]
	\arrow["{p_{23}}", from=1-1, to=1-2]
	\arrow["{m \times \Id_X}", shift left=6, from=1-1, to=1-2]
	\arrow["{\Id_G \times \alpha}", shift right=6, from=1-1, to=1-2]
\end{tikzcd}\]
which satisfies the "coequalizer conditions":
\begin{equation*}
\begin{aligned}
  p_3^{23} \circ (m \times \Id_X) =\;& p_3^{23} \circ p_{23}  & (g_1,g_2,x) &\longmapsto x\\ 
  p_3^{23} \circ (\Id_G \times \alpha) =\;& \alpha \circ p_{23}  & (g_1,g_2,x) &\longmapsto g_2x\\ 
  \alpha \circ (m \times \Id_X) =\;& \alpha \circ (\Id_G \times \alpha)  &\qquad (g_1,g_2,x) &\longmapsto g_1g_2x\\ 
\end{aligned}
\end{equation*}

A \textbf{$\mathbf{G}$-equivariant (coherent) sheaf} \footnote{we will omit the word "coherent" for shorter notation.} on $X$ is a sheaf $\mathcal{F} \in \Coh(X)$ equipped with an isomorphism
$$\phi_{\mathcal{F}}: p_3^{23,*}\mathcal{F} \longrightarrow \alpha^* \mathcal{F}$$
such that the following diagram commutes:
% https://q.uiver.app/?q=WzAsNixbMSwwLCIobSBcXHRpbWVzIFxcSWRfWCleKiBcXGFscGhhXiogXFxtYXRoY2Fse0Z9Il0sWzIsMCwiKG0gXFx0aW1lcyBcXElkX1gpXiogcF8zXnsyMywqfSBcXG1hdGhjYWx7Rn0iXSxbMCwxLCIoXFxJZF9HIFxcdGltZXMgXFxhbHBoYSleKiBcXGFscGhhXiogXFxtYXRoY2Fse0Z9Il0sWzMsMSwicF97MjN9XipwXzNeezIzLCp9IFxcbWF0aGNhbHtGfSJdLFsxLDIsIihcXElkX0cgXFx0aW1lcyBcXGFscGhhKV4qIHBfM157MjMsKn0gXFxtYXRoY2Fse0Z9Il0sWzIsMiwicF97MjN9XiogXFxhbHBoYV4qIFxcbWF0aGNhbHtGfSJdLFswLDEsIihtIFxcdGltZXMgXFxJZF9YKV4qIFxccGhpX3tcXG1hdGhjYWx7Rn19Il0sWzIsMCwiIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsxLDMsIiIsMCx7Im9mZnNldCI6LTEsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbNCw1LCIiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzUsMywicF97MjN9XipcXHBoaV97XFxtYXRoY2Fse0Z9fSJdLFsyLDQsIihcXElkX0cgXFx0aW1lcyBcXGFscGhhKV4qIFxccGhpX3tcXG1hdGhjYWx7Rn19Il1d
\begin{equation}\label{eq:associative_constraint}
\begin{tikzcd}[column sep={2cm,between origins}]
	&{(m \times \Id_X)^* p_3^{23,*} \mathcal{F}}  &[3.5cm]{(m \times \Id_X)^* \alpha^* \mathcal{F}}  &\\
	{p_{23}^*p_3^{23,*} \mathcal{F}} &&&  {(\Id_G \times \alpha)^* \alpha^* \mathcal{F}}\\
	& {p_{23}^* \alpha^* \mathcal{F}} &{(\Id_G \times \alpha)^* p_3^{23,*} \mathcal{F}} 
	\arrow["{(m \times \Id_X)^* \phi_{\mathcal{F}}}", from=1-2, to=1-3]
	\arrow[no head,equal, from=2-1, to=1-2]
	\arrow[shift left=1, no head,equal, from=1-3, to=2-4]
	\arrow[no head,equal, from=3-2, to=3-3]
	\arrow["{(\Id_G \times \alpha)^* \phi_{\mathcal{F}}}", from=3-3, to=2-4]
	\arrow["{p_{23}^*\phi_{\mathcal{F}}}", from=2-1, to=3-2]
\end{tikzcd}
\end{equation}

A \textbf{($\mathbf{G}$-equivariant) morphism} $f: (\mathcal{F},\phi_{\mathcal{F}}) \longrightarrow (\mathcal{G},\phi_{\mathcal{G}})$ between two $G$-equivariant sheaves is a morphism $f:\mathcal{F} \longrightarrow \mathcal{G}$ in $\Coh(X)$ such that the diagram
% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXGFscGhhXiogXFxtYXRoY2Fse0Z9Il0sWzAsMSwiXFxhbHBoYV4qIFxcbWF0aGNhbHtHfSJdLFsxLDAsInBfM157MjMsKn0gXFxtYXRoY2Fse0Z9Il0sWzEsMSwicF8zXnsyMywqfSBcXG1hdGhjYWx7R30iXSxbMCwyLCJcXHBoaV97XFxtYXRoY2Fse0Z9fSJdLFsxLDMsIlxccGhpX3tcXG1hdGhjYWx7R319Il0sWzAsMSwiXFxhbHBoYV4qIGYiLDJdLFsyLDMsInBfM157MjMsKn0gZiJdXQ==
\begin{equation}\label{eq:equiv_morphism}
\begin{tikzcd}
	{ p_3^{23,*} \mathcal{F}} & {\alpha^* \mathcal{F}} \\
	{ p_3^{23,*} \mathcal{G}} & {\alpha^* \mathcal{G}}
	\arrow["{\phi_{\mathcal{F}}}", from=1-1, to=1-2]
	\arrow["{\phi_{\mathcal{G}}}", from=2-1, to=2-2]
	\arrow["{p_3^{23,*} f}"', from=1-1, to=2-1]
	\arrow["{\alpha^* f}", from=1-2, to=2-2]
\end{tikzcd}
\end{equation}
commutes.

We denote $\Coh^G(X)$ as the category of $G$-equivariant sheaves.


\end{defn}
\begin{defn}[$G$-equivariant $K$-theory]
For a $G$-variety $X$, the $G$-equivariant $K$-theory is defined as the Grothendieck group of $G$-equivariant coherent sheaves over $X$, i.e.,
$$K_0^G(X):= K_0(\Coh^G(X)).$$
Specifically, for a point $\pt=\Spec \mathbb{C}$ with trivial $G$-action, denote
$$\Rpt(G):= K_0^G(\pt)=K_0(\Rep(G))$$
as the representation ring of group $G$.

We may omit $0$ for the convenience of writing and typing.
\end{defn}

Let us unravel this construction a little bit. For (geometrical) points $g,g_1,g_2 \in G$, denote that
\begin{equation*}
\begin{aligned}
  \iota_{g}:\;&  X \longrightarrow G \times X \qquad & x & \longmapsto (g,x)  \\ 
  \iota_{g_1,g_2}:\;&  X \longrightarrow G \times G \times X \qquad & x & \longmapsto (g_1,g_2,x)  \\
  \alpha_{g}:\;& \hspace{-2mm} \begin{tikzcd}[column sep=7mm]
  	X & {G \times X} & X
  	\arrow["\alpha", from=1-2, to=1-3]
  	\arrow["{\iota_g}", hook, from=1-1, to=1-2]
  \end{tikzcd} \qquad & x & \longmapsto gx  \\
\end{aligned}
\end{equation*}
By pulling back along $\iota_{g}$ and $\iota_{g_1,g_2}$, we can see geometrical meanings in the expressions. Apply $\iota_{g}^{*}$ to $\phi_{\mathcal{F}}$, one get
% https://q.uiver.app/?q=WzAsNCxbMiwwLCIgXFxwaGlfe2cseH1ee1xcbWF0aGNhbHtGfX1cXGhhdHs9fVxcbGVmdChcXGlvdGFfe2d9XnsqfVxccGhpX3tcXG1hdGhjYWx7Rn19XFxyaWdodClfeDogXFxtYXRoY2Fse0Z9X3giXSxbMCwwLCJcXGlvdGFfe2d9XnsqfVxccGhpX3tcXG1hdGhjYWx7Rn19OiBcXG1hdGhjYWx7Rn0iXSxbMSwwLCJcXGFscGhhX3tnfV57Kn1cXG1hdGhjYWx7Rn0iXSxbMywwLCJcXG1hdGhjYWx7Rn1fe2d4fSJdLFswLDNdLFsxLDJdLFsyLDAsIiIsMCx7InNob3J0ZW4iOnsic291cmNlIjozMCwidGFyZ2V0IjozMH0sInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6InNxdWlnZ2x5In19fV1d
\[\begin{tikzcd}
	{\iota_{g}^{*}\phi_{\mathcal{F}}: \mathcal{F}} & {\alpha_{g}^{*}\mathcal{F}} &[1.5cm] { \phi_{g,x}^{\mathcal{F}}\hat{=}\left(\iota_{g}^{*}\phi_{\mathcal{F}}\right)_x: \mathcal{F}_x} & {\mathcal{F}_{gx}}
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-1, to=1-2]
	\arrow[shorten <=7mm, shorten >=7mm,squiggly={
	               pre length=7mm, post length=7mm
	             }, maps to, from=1-2, to=1-3]
\end{tikzcd}\]
Therefore, $\phi_{\mathcal{F}}$ encodes information of $G$-action on $\mathcal{F}$, which is $G$-equivariant.

Now we apply $\iota_{g_1,g_2}^{*}$ to \eqref{eq:associative_constraint}:
% https://q.uiver.app/?q=WzAsOCxbMywwLCIgXFxtYXRoY2Fse0Z9X3giXSxbMCwwLCJcXG1hdGhjYWx7Rn0iXSxbMiwwLCJcXGFscGhhX3tnXzEsZ18yfV57Kn1cXG1hdGhjYWx7Rn09XFxhbHBoYV97Z18xfV57Kn1cXGFscGhhX3tnXzJ9XnsqfVxcbWF0aGNhbHtGfSJdLFs1LDAsIlxcbWF0aGNhbHtGfV97Z18xZ18yeH0iXSxbMSwyLCJcXGFscGhhX3tnXzJ9XnsqfVxcbWF0aGNhbHtGfSJdLFs0LDIsIlxcbWF0aGNhbHtGfV97Z18yeH0iXSxbMiwxXSxbMywxXSxbMCwzLCJcXHBoaV97Z18xZ18yLHh9XntcXG1hdGhjYWx7Rn19Il0sWzEsMiwiXFxpb3RhX3tnXzEsZ18yfV57Kn1cXHBoaV97XFxtYXRoY2Fse0Z9fSJdLFsxLDQsIlxcaW90YV97Z18yfV57Kn1cXHBoaV97XFxtYXRoY2Fse0Z9fSIsMl0sWzQsMiwiXFxpb3RhX3tnXzF9XnsqfVxccGhpX3tcXGFscGhhX3tnXzJ9XnsqfVxcbWF0aGNhbHtGfX0iLDJdLFswLDUsIlxccGhpX3tnXzIseH1ee1xcbWF0aGNhbHtGfX0iLDJdLFs1LDMsIlxccGhpX3tnXzEsZ18yeH1ee1xcbWF0aGNhbHtGfX09XFxwaGlfe2dfMSx4fV57XFxhbHBoYV97Z18yfV57Kn1cXG1hdGhjYWx7Rn19IiwyXSxbNiw3LCIiLDAseyJzaG9ydGVuIjp7InNvdXJjZSI6MzAsInRhcmdldCI6MzB9LCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dXQ==
\[\begin{tikzcd}[column sep={2cm,between origins}, row sep=small]
	{\mathcal{F}} && {\makebox[10ex][l]{$\alpha_{g_1,g_2}^{*}\mathcal{F}=\alpha_{g_1}^{*}\alpha_{g_2}^{*}\mathcal{F}$}} & [2cm]{ \mathcal{F}_x} && {\mathcal{F}_{g_1 g_2 x}} \\
	&& {} & {} \\
	& {\alpha_{g_2}^{*}\mathcal{F}} &&& {\mathcal{F}_{g_2x}}
	\arrow["{\phi_{g_1g_2,x}^{\mathcal{F}}}", from=1-4, to=1-6]
	\arrow["{\iota_{g_1,g_2}^{*}\phi_{\mathcal{F}}}", from=1-1, to=1-3]
	\arrow["{\iota_{g_2}^{*}\phi_{\mathcal{F}}}"', from=1-1, to=3-2]
	\arrow["{\iota_{g_1}^{*}\phi_{\alpha_{g_2}^{*}\mathcal{F}}}"', from=3-2, to=1-3]
	\arrow["{\phi_{g_2,x}^{\mathcal{F}}}"', from=1-4, to=3-5]
	\arrow["{\phi_{g_1,g_2x}^{\mathcal{F}}=\phi_{g_1,x}^{\alpha_{g_2}^{*}\mathcal{F}}}"', from=3-5, to=1-6]
	\arrow[shorten <=17mm, shorten >=7mm,squiggly={
		               pre length=17mm, post length=7mm
		             }, maps to, from=2-3, to=2-4]
\end{tikzcd}\]
So \eqref{eq:associative_constraint} is just the associative constraint of the $G$-structure on $\mathcal{F}$.

Similarly, apply $\iota_{g}^{*}$ to \eqref{eq:equiv_morphism}, we get
% https://q.uiver.app/?q=WzAsMTAsWzIsMCwiIFxcbWF0aGNhbHtGfV94Il0sWzAsMCwiXFxtYXRoY2Fse0Z9Il0sWzEsMCwiXFxhbHBoYV97Z31eeyp9XFxtYXRoY2Fse0Z9Il0sWzMsMCwiXFxtYXRoY2Fse0Z9X3tneH0iXSxbMCwyLCJcXG1hdGhjYWx7R30iXSxbMiwyLCIgXFxtYXRoY2Fse0d9X3giXSxbMSwxXSxbMiwxXSxbMSwyLCJcXGFscGhhX3tnfV57Kn1cXG1hdGhjYWx7R30iXSxbMywyLCJcXG1hdGhjYWx7R31fe2d4fSJdLFswLDMsIlxccGhpX3tnLHh9XntcXG1hdGhjYWx7Rn19Il0sWzEsMiwiXFxpb3RhX3tnfV57Kn1cXHBoaV97XFxtYXRoY2Fse0Z9fSJdLFsxLDQsImYiLDJdLFswLDUsImZfeCIsMl0sWzYsNywiIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjMwLCJ0YXJnZXQiOjMwfSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMiw4LCJcXGFscGhhX3tnfV57Kn1mIl0sWzQsOCwiXFxpb3RhX3tnfV57Kn1cXHBoaV97XFxtYXRoY2Fse0d9fSJdLFs1LDksIlxccGhpX3tnLHh9XntcXG1hdGhjYWx7R319Il0sWzMsOSwiZl97Z3h9Il1d
\[\begin{tikzcd}[row sep=tiny]
	{\mathcal{F}} & {\alpha_{g}^{*}\mathcal{F}} &[15mm] { \mathcal{F}_x} & {\mathcal{F}_{gx}} \\
	& {} & {} \\
	{\mathcal{G}} & {\alpha_{g}^{*}\mathcal{G}} & { \mathcal{G}_x} & {\mathcal{G}_{gx}}
	\arrow["{\phi_{g,x}^{\mathcal{F}}}", from=1-3, to=1-4]
	\arrow["{\iota_{g}^{*}\phi_{\mathcal{F}}}", from=1-1, to=1-2]
	\arrow["f"', from=1-1, to=3-1]
	\arrow["{f_x}"', from=1-3, to=3-3]
	\arrow[shorten <=9mm, shorten >=9mm,squiggly={
		               pre length=9mm, post length=9mm
		             }, maps to, from=2-2, to=2-3]
	\arrow["{\alpha_{g}^{*}f}", from=1-2, to=3-2]
	\arrow["{\iota_{g}^{*}\phi_{\mathcal{G}}}", from=3-1, to=3-2]
	\arrow["{\phi_{g,x}^{\mathcal{G}}}", from=3-3, to=3-4]
	\arrow["{f_{gx}}", from=1-4, to=3-4]
\end{tikzcd}\]
So \eqref{eq:equiv_morphism} is just the condition for $f$ to be $G$-equivariant.

There are two extreme situations worth mentioning about. 
When $G=\Id$, there is no $G$-action structure constrain on varieties and sheaves. Therefore,
$$\Coh^{\Id}(X)=\Coh(X) \qquad K_0^{\Id}(X)=K_0(X) \,\hat{=}\, K_0(\Coh(X)).$$
When $G$ acts on $X=\Spec A$ trivially, any sheaf $\mathcal{F} \in \Coh^G(X)$ can be viewed as an (finitely generated)\footnote{We already assume $X$ to be of finite type, so coherent condition is equivalent to finitely generated condition.} $A$-module $M$ with $G$-action, so
$$\Coh^G(X)=\rep_A(G) \xlongequal{\text{when $G$ is finite}} \Mod(A[G]).$$
In particular, any sheaf $\mathcal{F} \in \Coh^G(\pt)$ can be viewed as a finite dimensional complex $G$-representation, so
$$\Coh^G(\pt)=\rep_{\mathbb{C}}(G) \xlongequal{\text{when $G$ is finite}} \Mod(\mathbb{C}[G]).$$

???(If I have time I will compute $K_0(\mathbb{P}^1)$ here.)
\subsection{Representation ring $\Rpt(G)$}
Now let us try to figure out some examples.

Recall that any coherent sheaf over $\pt$ is equivalent to a finite dimensional $\mathbb{C}$-vector space, and any $G$-equivariant coherent sheaf over $\pt$ is equivalent to a finite dimensional complex $G$-representation. Moreover, by Jordan-Hölder theorem, every finite dimensional complex $G$-representation can be written as a composition series such that each quotient object is irreducible. Therefore,
$$\Rpt(G)=\bigoplus_{\rho \in \Irr(G)} \mathbb{Z}$$
as a free $\mathbb{Z}$-module.

For $\Rpt(G)$, we have the multiplication structure induced by tensor products on complex $G$-representations. Let us see some examples now. We use Setting \ref{set:initial_case} in these examples.

\begin{eg}
For trivial group $\Id$, every $\Id$-representation is just a $\mathbb{C}$-vector space, which can be written as the direct sum of $1$-dimensional vector spaces. Therefore,
$$\Rpt(\Id)=\mathbb{Z}.$$
\end{eg}

\begin{eg}
For group $T$, since $T$ is abelian, every $T$-representation can be written as direct sum of $1$-dimensional vector spaces. Furthermore,
\begin{equation*}
\begin{aligned}
  \Irr(T)=\;&  \left\{ \rho: T \longrightarrow \mathbb{C}^{\times} \;\middle|\;\rho \text{ is an (algebraic) group homomorphism}  \right\} \\ 
  =\;& \Hom_{\mathbb{C}\Alggp}(T, \mathbb{C}^{\times}):= X^{*}(T)
\end{aligned}
\end{equation*} 
We get
$$\Rpt(T)=\bigoplus_{\rho \in \Irr(T)} \mathbb{Z}=\mathbb{Z}\left[X^{*}(T) \right].$$
The group structure in $X^{*}(T)$ is given by tensor product, so the multiplication structure is induced by the group structure in $X^{*}(T)$. Denote 
$$\varepsilon_i: T \longrightarrow \mathbb{C}^{\times} \qquad \begin{pmatrix}
t_1 &&&&\\[-3mm]
& \ddots&&&\\[-1mm]
&&t_i&&\\[-3mm]
&&& \ddots&\\[-1mm]
&&&&t_n\\
\end{pmatrix} \longmapsto t_i$$
as a $\mathbb{Z}$-basis of $X^{*}(T)$, then 
$$\Rpt(T) \cong \mathbb{Z}\!\left[ \varepsilon_1^{\pm 1},\ldots,\varepsilon_n^{\pm 1} \right]$$
as a $\mathbb{Z}$-algebra.

By forgetting $T$-actions, we get a morphism of $\mathbb{Z}$-algebra
$$\Rpt(T) \longrightarrow \Rpt(\Id) \qquad f(\varepsilon_1,\ldots,\varepsilon_n) \longmapsto f(1,\ldots,1).$$
\end{eg}

\begin{eg}
After we prove the reduction theorem ???(ref), we can show that
$$\Rpt(N) \cong \Rpt(\Id) \cong \mathbb{Z} \qquad \Rpt(B) \cong \Rpt(T) \cong \mathbb{Z}\!\left[ \varepsilon_1^{\pm 1},\ldots,\varepsilon_n^{\pm 1} \right]$$
\end{eg}

\begin{eg}
By \cite[Theorem 6.1.4]{chriss1997representation},
$$\Rpt(\GL_n) \cong \Rpt(T)^{W} \cong \mathbb{Z}\!\left[ \varepsilon_1^{\pm 1},\ldots,\varepsilon_n^{\pm 1} \right]^{S_n}.$$
This can be viewed as a "group" analogue of Chevalley restriction theorem. Notice that we have clear description of finite dimensional irreducible representations of $\GL_n$, and the forget map
% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXHJlcChcXEdMX24pIl0sWzEsMCwiXFxyZXAoVCkiXSxbMiwwLCJcXFJwdChcXEdMX24pIl0sWzMsMCwiXFxScHQoVCkiXSxbMiwzXSxbMCwxXSxbMSwyLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtYXBzIHRvIn0sImJvZHkiOnsibmFtZSI6InNxdWlnZ2x5In19fV1d
\[\begin{tikzcd}
	{\rep(\GL_n)} & {\rep(T)} &[1.5cm] {\Rpt(\GL_n)} & {\Rpt(T)}
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-1, to=1-2]
	\arrow[shorten <=7mm, shorten >=7mm,squiggly={
		               pre length=7mm, post length=7mm
		             }, maps to, from=1-2, to=1-3]
\end{tikzcd}\]
views $\GL_n$-representations as special $W$-invariant $T$-representations.
\end{eg}

From these examples we already see the difficulty of computing $K$-theories. Therefore, a series of properties of $K$-theories are definitely needed for computations. To state these properties, we need to define some tools (or weapons???) in $K$-theory.
\section[Three functors]{Three functors: pullback, proper pushforward and tensor product}
In this section, we will construct three basic functors of equivariant $K$-theory: pullback, proper pushforward and tensor product.

\subsection{Non-derived three functors in $\Coh^G(X)$} 
We assume that readers know the non-derived pullback, pushforward and tensor product of normal coherent sheaves. (See \cite[Chapter 16]{vakil2017rising})

As a special reminder, the pushforward of coherent sheaves may be not coherent. This problem can be remedied by Grothendieck's coherence theorem \cite[Theorem 18.9.1]{vakil2017rising}, once we impose morphisms to be proper (and Noetherian hypotheses on varieties). That is why we only consider about proper pushforward.

Now let us consider the effect of $G$-equivariance. Somewhat surprising, these three functors behave quite well with group actions.

\begin{defn}[Group action on pullback, proper pushforward and tensor product]
Let $X,Y$ be $G$-varieties, $f: Y \longrightarrow X$ be a $G$-equivariant morphism. For $(\mathcal{G},\phi_{\mathcal{G}}) \in \Coh^G(Y)$, we define group actions on $f^*\mathcal{F}$, $f_*\mathcal{G}$ and $\mathcal{F} \otimes \mathcal{G}$, as follows.

% https://q.uiver.app/?q=WzAsMTAsWzAsMywiRyBcXHRpbWVzIFgiXSxbMSwzLCJYIl0sWzAsMSwiRyBcXHRpbWVzIFkiXSxbMSwxLCJZIl0sWzIsMiwiXFxtYXRoY2Fse0Z9Il0sWzIsMCwiXFxtYXRoY2Fse0d9Il0sWzMsMywiRyBcXHRpbWVzIFgiXSxbNCwzLCJYIl0sWzUsMiwiXFxtYXRoY2Fse0Z9Il0sWzYsMiwiXFxtYXRoY2Fse0Z9JyJdLFswLDEsInBfezMsWH1eezIzfSIsMCx7Im9mZnNldCI6LTJ9XSxbMCwxLCJcXGFscGhhX1giLDAseyJvZmZzZXQiOjJ9XSxbMiwzLCJwX3szLFl9XnsyM30iLDAseyJvZmZzZXQiOi0yfV0sWzIsMywiXFxhbHBoYV9ZIiwyLHsib2Zmc2V0IjoyfV0sWzIsMCwiXFxJZF9HIFxcdGltZXMgZiIsMl0sWzMsMSwiZiJdLFsyLDEsIiIsMix7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dLFs1LDMsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbNCwxLCIiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzYsNywicF97MyxYfV57MjN9IiwwLHsib2Zmc2V0IjotMn1dLFs2LDcsIlxcYWxwaGFfWCIsMCx7Im9mZnNldCI6Mn1dLFs4LDcsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbOSw3LCIiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV1d
\[\begin{tikzcd}[column sep={between origins, 25mm}]
	&&[-20mm] {\mathcal{G}}&&& [-30mm]&[-15mm]\\[-4mm]
	{G \times Y} & Y \\
	&& {\mathcal{F}} &&& {\mathcal{F}} & {\mathcal{F}'} \\[-4mm]
	{G \times X} & X && {G \times X} & X
	\arrow["{p_{3,X}^{23}}", shift left=2, from=4-1, to=4-2]
	\arrow["{\alpha_X}", shift right=2, from=4-1, to=4-2]
	\arrow["{p_{3,Y}^{23}}", shift left=2, from=2-1, to=2-2]
	\arrow["{\alpha_Y}"', shift right=2, from=2-1, to=2-2]
	\arrow["{\Id_G \times f}"', from=2-1, to=4-1]
	\arrow["f"', from=2-2, to=4-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-1, to=4-2]
	\arrow[no head, from=1-3, to=2-2]
	\arrow[no head, from=3-3, to=4-2]
	\arrow["{p_{3,X}^{23}}", shift left=2, from=4-4, to=4-5]
	\arrow["{\alpha_X}", shift right=2, from=4-4, to=4-5]
	\arrow[no head, from=3-6, to=4-5]
	\arrow[no head, from=3-7, to=4-5]
\end{tikzcd}\]
By definition, we get $$p_{3,X}^{23} \circ \left(\Id_G \times f\right) = f \circ p_{3,Y}^{23}.$$ 
Since $f$ is $G$-equivariant, $$\alpha_X \circ \left(\Id_G \times f\right) = f \circ \alpha_Y.$$
These two diagrams are Cartesian, and $p_{3,X}^{23}, \alpha_X$ are flat.

The pullback $(f^*\mathcal{F},\phi_{f^*\mathcal{F}}) \in \Coh^G(Y)$ is defined by
$$\phi_{f^* \mathcal{F}}: p_{3,Y}^{23,*}f^*\mathcal{F}=\left( \Id_G \times f  \right)^* p_{3,X}^{23,*}\mathcal{F} 
\begin{tikzcd}[column sep=20mm]
	{} & {}
	\arrow["{\left( \Id_G \times f  \right)^* \phi_{\mathcal{F}}}", from=1-1, to=1-2]
\end{tikzcd} 
\left( \Id_G \times f  \right)^* \alpha_{X}^*\mathcal{F} =\alpha_{Y}^* f^*\mathcal{F}$$

By flat base change \cite[Theorem 24.2.8]{vakil2017rising}, assuming $f$ is proper, the proper pushforward $(f_{*}\mathcal{G},\phi_{f_{*}\mathcal{G}}) \in \Coh^G(X)$ is defined by
$$\phi_{f_{*}\mathcal{G}}: p_{3,X}^{23,*}f_{*}\mathcal{G}\cong\left( \Id_G \times f  \right)_{*} p_{3,Y}^{23,*}\mathcal{G} 
\begin{tikzcd}[column sep=20mm]
	{} & {}
	\arrow["{\left( \Id_G \times f  \right)_{*} \phi_{\mathcal{G}}}", from=1-1, to=1-2]
\end{tikzcd}
 \left( \Id_G \times f  \right)_{*} \alpha_{Y}^*\mathcal{G} \cong\alpha_{X}^*f_{*}\mathcal{G}$$

In general, we can also define $(\Ri f_{*}\mathcal{G},\phi_{\Ri f_{*}\mathcal{G}}) \in \Coh^G(X)$ by
$$\phi_{\Ri f_{*}\mathcal{G}}: p_{3,X}^{23,*}\Ri f_{*}\mathcal{G}\cong\Ri \left( \Id_G \times f  \right)_{*} p_{3,Y}^{23,*}\mathcal{G} 
\begin{tikzcd}[column sep=20mm]
	{} & {}
	\arrow["{\Ri\, \left( \Id_G \times f  \right)_{*} \phi_{\mathcal{G}}}", from=1-1, to=1-2]
\end{tikzcd}
 \Ri \left( \Id_G \times f  \right)_{*} \alpha_{Y}^*\mathcal{G} \cong\alpha_{X}^*\Ri f_{*}\mathcal{G}$$
 
 Similarly, the tensor product $(\mathcal{F} \otimes \mathcal{F}', \phi_{\mathcal{F} \otimes \mathcal{F}'}) \in \Coh^G(X)$ is defined by
 $$\phi_{\mathcal{F} \otimes \mathcal{F}'}: p_{3,X}^{23,*}\left(\mathcal{F} \otimes \mathcal{F}'\right) \cong p_{3,X}^{23,*} \mathcal{F} \otimes p_{3,X}^{23,*} \mathcal{F}'
 \begin{tikzcd}[column sep=20mm]
 	{} & {}
 	\arrow["{ \phi_{\mathcal{F}} \otimes \phi_{\mathcal{F}'}}", from=1-1, to=1-2]
 \end{tikzcd} 
 \alpha_{X}^* \mathcal{F} \otimes \alpha_{X}^* \mathcal{F}' \cong\alpha_{X}^* \left(\mathcal{F} \otimes \mathcal{F}'\right).$$
\end{defn}

The following definition will be useful in redefining tensor products.
\begin{defn}[External tensor product]
For two $G$-varieties $X$ and $Y$, define a functor 
$$\boxtimes: \Coh^G(X) \times \Coh^G(Y) \longrightarrow \Coh^G(X \times Y) \qquad (\mathcal{F},\mathcal{G}) \longmapsto \mathcal{F} \boxtimes \mathcal{G}$$
where
$$\mathcal{F} \boxtimes \mathcal{G}:=p_X^*\mathcal{F} \otimes p_X^*\mathcal{G}.$$
$\boxtimes$ is called the \textbf{external tensor product}.
\end{defn}
\begin{remark}\label{rmk:ext_tensor_product}
For $G$-variety $X$ and $\mathcal{F}$, $\mathcal{F}' \in \Coh^G(X)$, denote $\Delta: X \hookrightarrow X \times X$ to be the diagonal embedding, we have
$$\mathcal{F} \otimes \mathcal{F}' \cong \Delta^* (\mathcal{F} \boxtimes \mathcal{F}')$$
Unlike $\otimes$, $\boxtimes$ is always an exact functor. This feature let us redefine tensor product in $K$-theory later on.
\end{remark}
\subsection{Smooth case}
We would like to extend functors in $\Coh^G(X)$ to $K^G(X)$. However, these (non-derived) functors are usually not exact, so we have to work over ($G$-equivariant) derived category of cohrent sheaves $\Dcoh^{G}(X)$ and replace every functor by its derived version.

Still, we can not extend functors from $\Dcoh^G(X)$ to $K^G(X)$. The chain complex in $\Dcoh^G(X)$ can have infinite many non-zero terms, which can not be viewed as an element in $K^G(X)$. Therefore, we consider the bounded ($G$-equivariant) derived category $\Dcoh^{b,G}(X)$ as a full subcategory of $\Dcoh^G(X)$.

The last problem comes when we restrict functors to $\Dcoh^{b,G}(X)$:
\begin{equation*}
\begin{aligned}
  f^*:\;& \Dcoh^{b,G}(X) \longrightarrow \Dcoh^{G}(Y) \\
  f_*:\;& \Dcoh^{b,G}(Y) \longrightarrow \Dcoh^{b,G}(X) \\
  \otimes:\;& \Dcoh^{b,G}(X) \times \Dcoh^{b,G}(X) \longrightarrow \Dcoh^{G}(X) \\   
\end{aligned}
\end{equation*}
Other than proper pushforward, pullback and tensor product do not preserve boundness. Therefore, we have to make the following assumption:
\begin{equation}\label{eq:assumption}
\text{$X$, $Y$ are smooth $G$-varieties, and $f: Y \longrightarrow X$ is $G$-equivariant.}
\end{equation}
Under this assumption, pullback and tensor product preserve boundness.

\begin{remark}[Reasons for preserving boundness]
Suppose varieties are smooth (not needed for proper pushforward). 

\begin{itemize}
\item For pullback preserving boundness, see \cite[5.2.5(ii)]{chriss1997representation}.
\item  For proper pushforward, see \cite[5.2.13]{chriss1997representation}, and it essentially use the higher cohomology vanishing theorem \cite[Theorem 18.8.5]{vakil2017rising}.
\item  For tensor product, we use \ref{rmk:ext_tensor_product} in the derived way. $\boxtimes$ is exact, and $\Delta^*$ preserves boundness when $X$ is smooth, so $\otimes$ also preserves boundness. In particular, one can define tensor product on $K^G(X)$ for $X$ smooth:
$$\otimes: K^G(X) \times K^G(X) 
 \begin{tikzcd}[column sep=5mm]
 	{} & {}
 	\arrow["{\boxtimes}", from=1-1, to=1-2]
 \end{tikzcd} 
 K^G(X \times X) 
 \begin{tikzcd}[column sep=5mm]
 	{} & {}
 	\arrow["{\Delta^*}", from=1-1, to=1-2]
 \end{tikzcd}  
 K^G(X) \qquad \mathcal{F} \otimes \mathcal{F}'=\Delta^*\left( \mathcal{F} \boxtimes \mathcal{F}' \right)
 $$
\end{itemize}

\end{remark}
\begin{remark}
When $f: Y \longrightarrow X$ is open embedding, the non-derived pullback $f^*$ is exact, so we can define pullback on $K$-theory automatically.
\end{remark}
\subsection{Restriction with supports}
In practice, the varieties we consider are not smooth. Luckily, these varieties are always embedded in some ambiance spaces which are smooth.

\begin{defn}[Pullback with supports]
Let $Z,Z'$ be $G$-varieties, $h: Z' \longrightarrow Z$ be a $G$-equivariant closed embedding. Suppose that $h$ is the restriction with support by some $f:X \longrightarrow Y$ satisfying the assumption \eqref{eq:assumption}, i.e., we have a $G$-equivariant closed embedding $\iota_Z: Z \longrightarrow X$ such that 
$Z' \cong f^{-1}(Z)$ and $h=f\big|_{Z'}$.
Denote $\iota_{Z'}: Z' \longrightarrow Y$ as the induced $G$-equivariant closed embedding, we would like to construct the pullback $h^*: K^G(Z) \longrightarrow K^G(Z')$.

% https://q.uiver.app/?q=WzAsMTAsWzAsMCwiWiciXSxbMSwwLCJaIl0sWzAsMiwiWSJdLFsxLDIsIlgiXSxbMiwwLCJLXkcoWicpIl0sWzIsMiwiS15HKFkpIl0sWzMsMiwiS15HKFgpIl0sWzMsMCwiS15HKFopIl0sWzEsMV0sWzIsMV0sWzAsMSwiaCIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzEsMywiXFxpb3RhX1oiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFsyLDMsImYiXSxbMCwyLCJcXGlvdGFfe1onfSIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzQsNSwiXFxpb3RhX3taJywqfSIsMl0sWzYsNSwiZl4qIiwyXSxbNyw2LCJcXGlvdGFfe1osKn0iXSxbNSw0LCJcXGdyIiwyLHsiY3VydmUiOjIsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFs3LDQsImheKiIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFs4LDksIiIsMCx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH0sInN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifSwiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XV0=
\[\begin{tikzcd}[column sep={10mm}, row sep={4mm}]
	{Z'} & Z &[5mm] {K^G(Z')} & {K^G(Z)} \\
	& {} & {} \\
	Y & X & {K^G(Y)} & {K^G(X)}
	\arrow["h", hook, from=1-1, to=1-2]
	\arrow["{\iota_Z}", hook, from=1-2, to=3-2]
	\arrow["f", from=3-1, to=3-2]
	\arrow["{\iota_{Z'}}"', hook, from=1-1, to=3-1]
	\arrow["{\iota_{Z',*}}"', from=1-3, to=3-3]
	\arrow["{f^*}"', from=3-4, to=3-3]
	\arrow["{\iota_{Z,*}}", from=1-4, to=3-4]
	\arrow["\gr"', curve={height=12pt}, dotted, from=3-3, to=1-3]
	\arrow["{h^*}"', dashed, from=1-4, to=1-3]
	\arrow[shorten <=7mm, shorten >=9mm,squiggly={
			               pre length=7mm, post length=9mm
			             }, maps to, from=2-2, to=2-3]
\end{tikzcd}\]

Follows \cite[5.2.7(ii)]{chriss1997representation}, one can construct a morphism
$$\gr: \Img \left(  f^* \circ \iota_{Z,*} \right) \longrightarrow K^G(Z')$$
which satisfies $\iota_{Z',*} \circ \gr = \Id$ on $\Img\left(  f^* \circ \iota_{Z,*} \right)$. The pullback is defined as
% https://q.uiver.app/?q=WzAsNCxbMywwLCJLXkcoWicpIl0sWzIsMCwiS15HKFkpIl0sWzEsMCwiS15HKFgpIl0sWzAsMCwiaF4qOkteRyhaKSJdLFsyLDEsImZeKiJdLFszLDIsIlxcaW90YV97WiwqfSJdLFsxLDAsIlxcZ3IiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkb3R0ZWQifX19XV0=
\[\begin{tikzcd}
	{h^*:K^G(Z)} & {K^G(X)} & {K^G(Y)} & {K^G(Z').}
	\arrow["{f^*}", from=1-2, to=1-3]
	\arrow["{\iota_{Z,*}}", from=1-1, to=1-2]
	\arrow["\gr", dotted, from=1-3, to=1-4]
\end{tikzcd}\]
\end{defn}

\begin{defn}[Tensor product with supports/Intersection product]
Let $X$ be a smooth $G$-variety, and $Z$, $Z' \subseteq X$ be two closed $G$-subvarieties. The tensor product with supports is defined as
% https://q.uiver.app/?q=WzAsMyxbMiwwLCJLXkcoWiBcXGNhcCBaJykiXSxbMSwwLCJLXkcoWiBcXHRpbWVzIFonKSJdLFswLDAsIlxcb3RpbWVzOkteRyhaKSBcXHRpbWVzIEteRyhaJykiXSxbMSwwLCJcXERlbHRhXioiXSxbMiwxLCJcXGJveHRpbWVzIl1d
\[\begin{tikzcd}
	{\otimes:K^G(Z) \times K^G(Z')} & {K^G(Z \times Z')} & {K^G(Z \cap Z')}
	\arrow["{\Delta^*}", from=1-2, to=1-3]
	\arrow["\boxtimes", from=1-1, to=1-2]
\end{tikzcd}\]
i.e., $\mathcal{F} \otimes \mathcal{F}' := \Delta^* (\mathcal{F} \boxtimes \mathcal{F}')$.

The following diagram explains the word "restriction with supports":
% https://q.uiver.app/?q=WzAsNixbMiwwLCJLXkcoWiBcXGNhcCBaJykiXSxbMSwwLCJLXkcoWiBcXHRpbWVzIFonKSJdLFswLDAsIkteRyhaKSBcXHRpbWVzIEteRyhaJykiXSxbMCwxLCJLXkcoWCkgXFx0aW1lcyBLXkcoWCkiXSxbMSwxLCJLXkcoWCBcXHRpbWVzIFgpIl0sWzIsMSwiS15HKFgpIl0sWzEsMCwiXFxEZWx0YV4qIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsMSwiXFxib3h0aW1lcyJdLFszLDQsIlxcYm94dGltZXMiXSxbNCw1LCJcXERlbHRhXioiXSxbMiwzXSxbMSw0XSxbMCw1XV0=
\[\begin{tikzcd}
	{K^G(Z) \times K^G(Z')} & {K^G(Z \times Z')} & {K^G(Z \cap Z')} \\
	{K^G(X) \times K^G(X)} & {K^G(X \times X)} & {K^G(X)}
	\arrow["{\Delta^*}", dashed, from=1-2, to=1-3]
	\arrow["\boxtimes", from=1-1, to=1-2]
	\arrow["\boxtimes", from=2-1, to=2-2]
	\arrow["{\Delta^*}", from=2-2, to=2-3]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=2-3]
\end{tikzcd}\]
\end{defn}
\subsection{Algebraic structures of $K$-theory} 
With enough tools in hand, we can define some extra structures on $K^G(X)$. (By priority $K^G(X)$ is an abelian group)

\begin{proposition}[$R(G)$-module]
For any $G$-variety $X$, $K^G(X)$ is a $\Rpt (G)$-module by
$$\Rpt (G) \times K^G(X) \cong K^G(\pt) \times K^G(X)  \begin{tikzcd}[column sep=5mm]
 	{} & {}
 	\arrow["{\boxtimes}", from=1-1, to=1-2]
 \end{tikzcd} 
 K^G(\pt \times X) \cong K^G(X).$$
\end{proposition}
Under this proposition, these three functors become $\Rpt(G)$-homomorphisms.

\begin{proposition}[$\otimes$ as multiplication]
For any smooth $G$-variety $X$, $K^G(X)$ is a commutative associative $\Rpt(G)$-algebra, where the multiplication (call the $\otimes$-product on $K^G(X)$) is defined by
$$K^G(X) \times K^G(X) 
\begin{tikzcd}[column sep=5mm]
 	{} & {}
 	\arrow["{\otimes}", from=1-1, to=1-2]
 \end{tikzcd}
 K^G(X).
 $$
\end{proposition}
Under this proposition, for any $X$, $Y$, $f$ satisfying assumption \eqref{eq:assumption}, $f^*$ is a ring homomorphism.

\begin{warning}
We will define another product (called the convolution product) on some $K$-theories in Section \ref{sec:convolution}. These two products are essentially different products, and people have to specify which one they are using, when they discuss the "algebra structures on $K$-theories". For us, we only use $\otimes$-product for $K^G(\pt)$ (except Chapter \ref{chap:AScompletion}). 

After that, whenever we see an isomorphism of $K$-theories, we need to specify which structures this isomorphism preserve.
\end{warning}

\section{Thom isomorphism}
In this section we state Thom isomorphism theorem, which is an analogy of Poincaré lemma in $K$-theory.
\begin{proposition}[{Thom isomorphism, \cite[Theorem 5.4.17]{chriss1997representation}}]
Let $X$ be a $G$-variety, $\pi: E \longrightarrow X$ be a $G$-equivariant affine bundle on $X$. The pullback 
$$\pi^*: K^G(X) \longrightarrow K^G(E)$$
is an isomorphism of $K$-theories as $\Rpt(G)$-module.
\end{proposition}
For a proof, see \cite[Theorem 5.4.17]{chriss1997representation}.

With Thom isomorphism, we can compute $K$-theory of affine bundles by the $K$-theory of the base spaces. Proposition \ref{prop:strataffine} offers plenty of cases to apply Thom isomorphism. Also, for any $k \in \mathbb{N}_{>0}$,
$$K^G(\mathbb{A}^k) \cong K^G(\pt)\cong R(G).$$
This can be applied to $\OOmcell_w^u$ and $\OOmcell_{w,w'}^{u,u'}$. 




\section{Induction}
\subsection{Contracted product}\label{subsec:contracted_product}
Before we state the induction formula, let us recall one basic construction of spaces: the contracted product.
\begin{defn}[Contracted product]
Let $H \subseteq G$ be a closed algebraic subgroup and $X$ be an $H$-variety. The contracted product of $G$ and $X$ over $H$ is defined as
$$G \times^H X :=(G \times X)/\sim$$
where
$$(gh,x) \sim (g,hx) \qquad \text{ for any $g \in G$, $h \in H$, $x \in X$.}$$
\end{defn}
$G \times^H X$ has a natural variety structure, which is not easy to construct. $G$ acts on $G \times^H X$ by multiplying from the left side. We have a $G$-equivariant flat morphism
$$G \times^H X \longrightarrow G/H \qquad (g,x) \longrightarrow gH$$
which realize $G \times^H X$ as an $X$-bundle over $G/H$. In particular, for $X=\pt$, we get an isomorphism of $G$-varieties
$$G \times^H \pt \stackrel{\sim}{\longrightarrow} G/H.$$

The contracted product is not only used for the induction formula, but also used in the definition of equivariant cohomology theory (see ???) and description of some typical varieties (see the description of \ref{subsec:product_of_F}).
\section{Reduction}
\section{Equivariant cohomology theory}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Cellular fibration theorem}



\section{Statement}
\section{Application: module structure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Localization theorem}\label{chap:localization}

\section{Euler class}
\section{Statement}
\section{Application: change of basis}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Excess intersection formula}

\section{Convolution}\label{sec:convolution}
The construction of the convolution product has a similar flavor with Fourier-Mukai transformation, which is the composition of pullback, tensor product and proper pushforward.

\begin{defn}[Convolution product]
For the convenience of reading, we divide the whole process into three steps.
\paragraph*{\underline{Step1.}}Setting.\\[-3mm]

Let $M_1$, $M_2$, $M_3$ be smooth quasi-projective $G$-varieties. For convenience, denote
$$M_{ij}:=M_i \times M_j \qquad M_{123}=M_1 \times M_2 \times M_3$$
and $p_i^{jk}, p_i:=p_i^{123}, p_{ij}:=p_{ij}^{123}$ as projections onto some factors, as follows.
% https://q.uiver.app/?q=WzAsNyxbMiwwLCJHIFxcdGltZXMgRyBcXHRpbWVzIFgiXSxbMSwxLCJHIFxcdGltZXMgRyJdLFszLDEsIkcgXFx0aW1lcyBYIl0sWzUsMSwiRyBcXHRpbWVzIFgiXSxbNCwyLCJYIl0sWzIsMiwiRyJdLFswLDIsIkciXSxbMSw2LCJwXzFeezEyfSIsMl0sWzAsMSwicF97MTJ9IiwyXSxbMCwyLCJwX3syM30iXSxbMiw0LCJwXzNeezIzfSJdLFsxLDUsInBfMl57MTJ9Il0sWzIsNSwicF8yXnsyM30iLDJdLFszLDQsInBfM157MTN9IiwwLHsibGFiZWxfcG9zaXRpb24iOjMwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMyw2LCJwXzFeezEzfSIsMix7ImxhYmVsX3Bvc2l0aW9uIjoyMCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMywicF97MTN9IiwwLHsiY3VydmUiOi0yfV1d
\[\begin{tikzcd}[column sep={1.5cm,between origins}]
	&& {M_{123}} &&&[2cm]\\
	& {M_{12}} && {M_{23}} && {M_{13}} \\
	M_1 && M_2 && M_3 &
	\arrow["{p_1^{12}}"', from=2-2, to=3-1]
	\arrow["{p_{12}}"', from=1-3, to=2-2]
	\arrow["{p_{23}}", from=1-3, to=2-4]
	\arrow["{p_3^{23}}", from=2-4, to=3-5]
	\arrow["{p_2^{12}}", from=2-2, to=3-3]
	\arrow["{p_2^{23}}"', from=2-4, to=3-3]
	\arrow["{p_3^{13}}"{pos=0.3}, dashed, from=2-6, to=3-5]
	\arrow["{p_1^{13}}"'{pos=0.2}, dashed, from=2-6, to=3-1]
	\arrow["{p_{13}}", curve={height=-12pt}, from=1-3, to=2-6]
\end{tikzcd}\]
(Check that $p_i = p_i^{jk} \circ p_{jk}$ for $1 \leqslant j < k \leqslant 3$, $i=j$ or $i=k$)



\paragraph*{\underline{Step2.}}Convolution product on the level of varieties.\\[-3mm]

For closed $G$-subvarieties $Z_{12} \subseteq M_{12}$, $Z_{23} \subseteq M_{23}$, denote
$$Z_{123}:= p_{12}^{-1}(Z_{12}) \cap p_{23}^{-1}(Z_{23}) \subseteq M_{123}$$
as the intersection of two preimages. The \textbf{convolution product} of $Z_{12}$ and $Z_{23}$ is defined as
$$Z_{12} \circ Z_{23} := p_{13}(Z_{123}) \subseteq M_{13}$$
which is a closed $G$-subvariety of $M_{13}$.
\paragraph*{\underline{Step3.}}Convolution product on the level of $K$-theories.\\[-3mm]

Denote 
$$\pi_{12}:=p_{12}\big|_{Z_{123}} \qquad \pi_{23}:=p_{23}\big|_{Z_{123}} \qquad
\pi_{13}:=p_{13}\big|_{Z_{123}}$$
as corresponding morphisms restricted to $Z_{123}$. We assume that $\pi_{13}$ is proper, so that we can use proper pushforward in $K$-theory.

We define the convolution product by
$$*: K_0^G(Z_{12}) \times K_0^G(Z_{23}) \longrightarrow K_0^G(Z_{12} \circ Z_{23}) \qquad (\mathcal{F}_{12}, \mathcal{F}_{23}) \longmapsto \mathcal{F}_{12}*\mathcal{F}_{23}$$
$$\mathcal{F}_{12}*\mathcal{F}_{23}=\pi_{13,*}\left(\pi_{12}^* \mathcal{F}_{12} \otimes \pi_{23}^* \mathcal{F}_{23} \right) \in K_0^G(Z_{12} \circ Z_{23})$$
\begin{remark}
Those "$Z$-varieties" ($Z_{12}$, $p_{12}^{-1}(Z_{12})$, $Z_{123}$, etc.) are often singular in practice, so $\pi_{12}^{*}$, $\pi_{23}^{*}$ and $\otimes$ are defined in the sense of "restriction with supports", under the "$M$-varieties" which are smooth. The following diagram best illustrate the "actual" definition.
%closed immersion induce f.faithful map in quasicoherent sheaf: https://en.wikipedia.org/wiki/Closed_immersion
% https://q.uiver.app/?q=WzAsOCxbMCwwLCJLXzBeRyhaX3sxMn0pIFxcdGltZXMgS18wXkcoWl97MjN9KSJdLFsxLDAsIktfMF5HXFxiaWcocF97MTJ9XnstMX0oWl97MTJ9KVxcYmlnKSBcXHRpbWVzIEtfMF5HXFxiaWcocF97MTJ9XnstMX0oWl97MjN9KVxcYmlnKSJdLFswLDEsIktfMF5HKE1fezEyfSkgXFx0aW1lcyBLXzBeRyhNX3syM30pIl0sWzEsMSwiS18wXkcoTV97MTIzfSkgXFx0aW1lcyBLXzBeRyhNX3sxMjN9KSJdLFsyLDEsIktfMF5HKE1fezEyM30pIl0sWzMsMSwiS18wXkcoTV97MTN9KSJdLFsyLDAsIktfMF5HKFpfezEyM30pIl0sWzMsMCwiS18wXkcoWl97MTJ9IFxcY2lyYyBaX3syM30pIl0sWzAsMiwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbMSwzLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFs2LDQsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV0sWzcsNSwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbMiwzLCJwX3sxMn1eKiBcXHRpbWVzIHBfezIzfV4qIl0sWzMsNCwiXFxvdGltZXMiXSxbNCw1LCJwX3sxMywqfSJdLFs2LDcsIlxccGlfezEzLCp9Il0sWzEsNiwiXFxvdGltZXMiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCwxLCJcXHBpX3sxMn1eKiBcXHRpbWVzIFxccGlfezIzfV4qIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\tikzcdset{scale cd/.style={every label/.append style={scale=#1},
    cells={nodes={scale=#1}}}}
\[\begin{tikzcd}[scale cd=0.84]
	{K_0^G(Z_{12}) \times K_0^G(Z_{23})} & {K_0^G\big(p_{12}^{-1}(Z_{12})\big) \times K_0^G\big(p_{12}^{-1}(Z_{23})\big)} & {K_0^G(Z_{123})} & {K_0^G(Z_{12} \circ Z_{23})} \\
	{K_0^G(M_{12}) \times K_0^G(M_{23})} & {K_0^G(M_{123}) \times K_0^G(M_{123})} & {K_0^G(M_{123})} & {K_0^G(M_{13})}
	\arrow[hook', from=1-1, to=2-1]
	\arrow[hook', from=1-2, to=2-2]
	\arrow[hook', from=1-3, to=2-3]
	\arrow[hook', from=1-4, to=2-4]
	\arrow["{p_{12}^* \times p_{23}^*}", from=2-1, to=2-2]
	\arrow["\otimes", from=2-2, to=2-3]
	\arrow["{p_{13,*}}", from=2-3, to=2-4]
	\arrow["{\pi_{13,*}}", from=1-3, to=1-4]
	\arrow["\otimes", dashed, from=1-2, to=1-3]
	\arrow["{\pi_{12}^* \times \pi_{23}^*}", dashed, from=1-1, to=1-2]
\end{tikzcd}\]
\end{remark}
\end{defn}
The whole process can be concluded in the following diagram.
\begin{table}[ht]
  \vspace{0cm}
    \centering  
    \includegraphics[]{figures/table/table_convolution.pdf}       
\end{table}

\section{Statement}
To facilitate the computation of intersection (i.e., tensor product in the construction of convolution product), we state the excess intersection formula.
\section{Application: convolution formula}
\section{Demazure operator}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Generalization}


\section{quiver with loops}
\section{$G \times \mathbb{C}^{\times}$-action}\label{sec:Cstar_action}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{From formula to diagram}

\section{One point quiver}
\section{$A_2$-quiver}
\section{$1$-loop quiver}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Atiyah-Segal completion theorem}\label{chap:AScompletion}


\bibliographystyle{plain}
\bibliography{reference}
\end{document}




